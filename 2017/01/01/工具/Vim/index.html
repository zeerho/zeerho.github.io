<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.0" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Just a repo for documents">
<meta property="og:type" content="website">
<meta property="og:title" content="Tags">
<meta property="og:url" content="http://yoursite.com/tags/index.html">
<meta property="og:site_name" content="zeerho">
<meta property="og:description" content="Just a repo for documents">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-06-05T02:37:10.245Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tags">
<meta name="twitter:description" content="Just a repo for documents">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/tags/"/>





  <title>Vim | zeerho</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zeerho</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/01/工具/Vim/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zeerho">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zeerho">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Vim</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-01-01T09:00:00+08:00">2017-01-01</time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h1><h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><ul>
<li><code>u</code> 撤销从上次进入插入模式到退出插入模式之间的操作。在插入模式中使用光标键会视为产生一个新的撤销块。</li>
<li><code>U</code> 撤销对整行的修改</li>
<li><code>&lt;c-r&gt;</code> 重做被撤销的操作</li>
</ul>
<h2 id="更改"><a href="#更改" class="headerlink" title="更改"></a>更改</h2><ul>
<li><code>[n]&lt;C-a&gt;</code> 将光标所在数字（或本行内光标后最近一个数字）加 n（缺省为 1）</li>
<li><code>[n]&lt;C-x&gt;</code> 将光标所在数字（或本行内光标后最近一个数字）减 n（缺省为 1）</li>
</ul>
<p>Vim 缺省会将以 0 开头的数字解释为八进制。在 vimrc 中加入 <code>set nrformats=</code> 来把所有数字解释为十进制。</p>
<h2 id="插入模式下的删除操作符"><a href="#插入模式下的删除操作符" class="headerlink" title="插入模式下的删除操作符"></a>插入模式下的删除操作符</h2><table>
<thead>
<tr>
<th style="text-align:left">按键操作</th>
<th style="text-align:left">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>&lt;C-h&gt;</code></td>
<td style="text-align:left">删除前一个字符（同退格键）</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;C-w&gt;</code></td>
<td style="text-align:left">删除前一个单词</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;C-u&gt;</code></td>
<td style="text-align:left">删至行首</td>
</tr>
</tbody>
</table>
<p>这些命令在 Vim 的命令行模式以及在 bash shell 中同样有效。</p>
<h2 id="文件状态"><a href="#文件状态" class="headerlink" title="文件状态"></a>文件状态</h2><ul>
<li><code>&lt;c-g&gt;</code> 显示光标所在行位置及文件状态信息</li>
</ul>
<h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><ul>
<li><code>/{string}</code> 正向查找指定字符串</li>
<li><code>?{string}</code> 反向查找指定字符串</li>
<li><code>n</code> 以相同方向再次查找该字符串</li>
<li><code>N</code> 以相反方向再次查找该字符串</li>
<li><code>&lt;c-o&gt;</code> 返回之前位置</li>
<li><code>&lt;c-i&gt;</code> 跳至较新位置</li>
<li><code>*</code> 查找光标下单词</li>
</ul>
<h3 id="正则表达"><a href="#正则表达" class="headerlink" title="正则表达"></a>正则表达</h3><p><code>/expr</code> magic 搜索模式。<br><code>/\vexpr</code> very magic 搜索模式。除下划线、字母和数字以外的所有字符都当作具有特殊含义的字符。“#”依然会按其原义匹配，原因是“任何还未具有特殊含义的字符都被保留以备将来扩展时使用”。<br><code>/\Vexpr</code> very nomagic 搜索模式。只有“\”具有特殊含义。<br><em>具体的字符含义见 <code>:h pattern-overview</code></em></p>
<p><code>/\(expr1\)\@&gt;expr2</code> 固化分组。详见另一篇《正则表达式》。<br><code>/expr1\(expr2\)\@=</code> 正向前查找。匹配所有满足后置表达式为 expr2 的 expr1。<br><code>/expr1\(expr2\)\@!</code> 负向前查找。匹配所有满足后置表达式<strong>不</strong>为 expr2 的 expr1。<br><code>/expr1\@&lt;=expr2</code> 正向后查找。匹配所有满足前置表达式为 expr1 的 expr2。<br><code>/expr1\@&lt;!expr2</code> 负向后查找。匹配所有满足前置表达式<strong>不</strong>为 expr1 的 expr2。<br><em>若用 very magic 模式则不需要转义</em></p>
<p><code>*</code> 贪婪匹配<br><code>{-}</code> <code>{-m,n}</code> 非贪婪匹配</p>
<h3 id="配对括号的查找"><a href="#配对括号的查找" class="headerlink" title="配对括号的查找"></a>配对括号的查找</h3><p><code>%</code> 若光标置于括号处（{、[、(、)、]、}），则会跳至与该括号相配对的另一括号处。若光标置于非括号处，则会跳至与“当前位置之后第一个括号”相配对的另一括号处（仅在本行查找）。</p>
<h2 id="在-VIM-内执行外部命令"><a href="#在-VIM-内执行外部命令" class="headerlink" title="在 VIM 内执行外部命令"></a>在 VIM 内执行外部命令</h2><p><code>:![command]</code> 所有的外部命令都可以用这种方式执行，包括带命令行参数的命令。</p>
<h2 id="具有选择性的保存命令"><a href="#具有选择性的保存命令" class="headerlink" title="具有选择性的保存命令"></a>具有选择性的保存命令</h2><ol>
<li>按 <code>v</code> 进入可视模式</li>
<li>移动光标来选取文本</li>
<li>按 <code>:</code> 会看到窗口底部出现 <code>:&#39;&lt;,&#39;&gt;</code></li>
<li>输入 <code>w [FILENAME]</code> 并回车，就把所选文本保存到相应的文件中了。</li>
</ol>
<h2 id="提取和合并文件"><a href="#提取和合并文件" class="headerlink" title="提取和合并文件"></a>提取和合并文件</h2><p><code>:r [FILENAME]</code> 插入指定文件的内容，从光标所在位置的后一行开始<br><code>:r ![command]</code> 插入指定外部命令的输出内容</p>
<h2 id="设置类选项"><a href="#设置类选项" class="headerlink" title="设置类选项"></a>设置类选项</h2><ul>
<li><code>:set ic</code> 查找替换忽略大小写 <em>Ignore Case</em></li>
<li><code>:set noic</code> 禁用忽略大小写</li>
<li><code>:set hls</code> 搜索高亮 <em>hlsearch</em></li>
<li><code>:set nohls</code> <code>:nohls</code> <code>:nohlsearch</code> 禁用搜索高亮</li>
<li><code>:set is</code> 增量搜索 <em>incsearch</em></li>
<li><code>:set nois</code> 禁用增量搜索</li>
<li><code>/[string]\c</code> 仅在本次查找忽略大小写</li>
</ul>
<h2 id="获取帮助信息"><a href="#获取帮助信息" class="headerlink" title="获取帮助信息"></a>获取帮助信息</h2><p><code>&lt;help&gt;</code> 若键盘上有的话<br><code>&lt;F1&gt;</code> 若键盘上有的话<br><code>:help [parameter]</code> 获取帮助信息，参数为可选项</p>
<h2 id="常用变量"><a href="#常用变量" class="headerlink" title="常用变量"></a>常用变量</h2><ul>
<li><code>$myvimrc</code>: vimrc 文件全路径。（关于 vimrc 详见 <code>:h vimrc-intro</code>）</li>
<li><code>$vim</code>: vim 程序根目录。</li>
<li><code>$vimruntime</code>: 其下包含各种 vim 的支持文件。以 vim8.1 为例，默认是 <code>$vim/vim81/</code>。</li>
</ul>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><code>gv</code> 重选上次的选区<br><code>o</code> 切换选区的活动端</p>
<h1 id="mswin-vim"><a href="#mswin-vim" class="headerlink" title="mswin.vim"></a>mswin.vim</h1><p><code>{mode} {if_recursive} {map}</code></p>
<ul>
<li><code>mode</code> 表示该映射生效的模式（<em><code>:h vim-modes</code></em>）。取值如下：<ul>
<li>空: normal, visual, select, operator-pending</li>
<li>n: normal only</li>
<li>v: visual and select</li>
<li>o: operator-pending(<em><code>:h Operator-pending-mode</code></em>)</li>
<li>x: visual only(<em><code>:h visual-mode</code></em>)</li>
<li>s: select only(<em><code>:h select-mode</code></em>)</li>
<li>i: insert</li>
<li>c: command-line</li>
<li>l: insert, command-line, regexp-search (and others. Collectively called “Lang-Arg” pseudo-mode)</li>
</ul>
</li>
<li><code>if_recursive</code> 表示该命令是否会递归生效<ul>
<li><code></code> 空缺，表示递归生效</li>
<li><code>nore</code> 表示非递归生效</li>
</ul>
</li>
<li><code>map</code> 固定值，表示映射</li>
</ul>
<h1 id="可重复的操作及如何回退"><a href="#可重复的操作及如何回退" class="headerlink" title="可重复的操作及如何回退"></a>可重复的操作及如何回退</h1><table>
<thead>
<tr>
<th style="text-align:left">目的</th>
<th style="text-align:left">操作</th>
<th style="text-align:left">重复</th>
<th style="text-align:left">回退</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">做出一个修改</td>
<td style="text-align:left">{edit}</td>
<td style="text-align:left"><code>.</code></td>
<td style="text-align:left"><code>u</code></td>
</tr>
<tr>
<td style="text-align:left">执行替换</td>
<td style="text-align:left">:s/{tar}/{sub}</td>
<td style="text-align:left"><code>&amp;</code></td>
<td style="text-align:left"><code>u</code></td>
</tr>
<tr>
<td style="text-align:left">执行一系列修改</td>
<td style="text-align:left"><code>qx{changes}q</code></td>
<td style="text-align:left"><code>@x</code></td>
<td style="text-align:left"><code>u</code></td>
</tr>
<tr>
<td style="text-align:left">重复任意 Ex 命令</td>
<td style="text-align:left"><code>:{Ex}</code></td>
<td style="text-align:left"><code>@:</code></td>
<td style="text-align:left"><code>u</code></td>
</tr>
<tr>
<td style="text-align:left">在行内查找下一指定字符</td>
<td style="text-align:left"><code>f{char}</code>/<code>t{char}</code></td>
<td style="text-align:left"><code>;</code></td>
<td style="text-align:left"><code>,</code></td>
</tr>
<tr>
<td style="text-align:left">在行内查找上一指定字符</td>
<td style="text-align:left"><code>F{char}</code>/<code>T{char}</code></td>
<td style="text-align:left"><code>;</code></td>
<td style="text-align:left"><code>,</code></td>
</tr>
<tr>
<td style="text-align:left">在文档中查找下一处匹配项</td>
<td style="text-align:left">/pattern<code>{CR}</code></td>
<td style="text-align:left"><code>n</code></td>
<td style="text-align:left"><code>N</code></td>
</tr>
<tr>
<td style="text-align:left">在文档中查找上一处匹配项</td>
<td style="text-align:left">?pattern<code>{CR}</code></td>
<td style="text-align:left"><code>n</code></td>
<td style="text-align:left"><code>N</code></td>
</tr>
</tbody>
</table>
<h1 id="操作符-operator"><a href="#操作符-operator" class="headerlink" title="操作符 operator"></a>操作符 operator</h1><table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>c</code></td>
<td style="text-align:left">修改</td>
</tr>
<tr>
<td style="text-align:left"><code>s</code></td>
<td style="text-align:left">光标下单字符修改</td>
</tr>
<tr>
<td style="text-align:left"><code>d</code></td>
<td style="text-align:left">删除</td>
</tr>
<tr>
<td style="text-align:left"><code>y</code></td>
<td style="text-align:left">复制到寄存器</td>
</tr>
<tr>
<td style="text-align:left"><code>g~</code></td>
<td style="text-align:left">反转大小写</td>
</tr>
<tr>
<td style="text-align:left"><code>gu</code></td>
<td style="text-align:left">转换为小写</td>
</tr>
<tr>
<td style="text-align:left"><code>gU</code></td>
<td style="text-align:left">转为大写</td>
</tr>
<tr>
<td style="text-align:left"><code>&gt;</code></td>
<td style="text-align:left">增加缩进</td>
</tr>
<tr>
<td style="text-align:left"><code>&lt;</code></td>
<td style="text-align:left">减小缩进</td>
</tr>
<tr>
<td style="text-align:left"><code>=</code></td>
<td style="text-align:left">自动缩进</td>
</tr>
<tr>
<td style="text-align:left"><code>!</code></td>
<td style="text-align:left">使用外部程序过滤 {motion} 所跨越的行</td>
</tr>
</tbody>
</table>
<p><em>自定义操作符<code>:h map-operator</code></em></p>
<h1 id="Ex-命令"><a href="#Ex-命令" class="headerlink" title="Ex 命令"></a>Ex 命令</h1><ul>
<li><code>:[{range}]d[elete] {reg}</code> 删除指定范围内的到寄存器 {reg} 中</li>
<li><code>:[{range}]y[ank] {reg}</code> 复制指定范围内行[到寄存器 {reg} 中</li>
<li><code>:[{line}]pu[t] {reg}</code> 在指定行后粘贴寄存器 {reg} 中的内容</li>
<li><code>:[{range}]co[py] {to}</code> <code>:t</code> 把指定范围内的行复制到 {to} 所指定的行之下</li>
<li><code>:[{range}]m[ove] {to}</code> 把指定范围内的行移动到 {to} 所指定的行之下</li>
<li><code>:[{range}]j[oin][!]</code> 连接指定范围内的行。<code>!</code> 表示不插入或删除任何空格。</li>
<li><code>:[{range}]norm[al][!] {commands}</code> 对指定范围内的每一行执行普通模式命令</li>
<li><code>:[{range}]s[ubstitute]/{pattern}/{string}/[flags]</code> 把指定范围内出现 {pattern} 的地方替换为 {string}</li>
<li><code>:[{range}]g[lobal]/{pattern}/[cmd]</code> 对指定范围内匹配 {pattern} 的所有行，在其上执行 Ex 命令 {cmd}</li>
</ul>
<h2 id="补全功能"><a href="#补全功能" class="headerlink" title="补全功能"></a>补全功能</h2><ol>
<li>确保 Vim 不是在以兼容模式运行 <code>:set nocp</code></li>
<li><code>&lt;C-d&gt;</code> 列出候选列表</li>
<li><code>&lt;TAB&gt;</code> 在候选列表中切换选项</li>
</ol>
<h2 id="用来构建-Ex-命令的地址和范围的符号"><a href="#用来构建-Ex-命令的地址和范围的符号" class="headerlink" title="用来构建 Ex 命令的地址和范围的符号"></a>用来构建 Ex 命令的地址和范围的符号</h2><table>
<thead>
<tr>
<th style="text-align:left">符号</th>
<th style="text-align:left">地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>{number}</code></td>
<td style="text-align:left">行号</td>
</tr>
<tr>
<td style="text-align:left"><code>1</code></td>
<td style="text-align:left">文件的首行</td>
</tr>
<tr>
<td style="text-align:left"><code>$</code></td>
<td style="text-align:left">文件的末行</td>
</tr>
<tr>
<td style="text-align:left"><code>0</code></td>
<td style="text-align:left">虚拟行，位于文件首行上方</td>
</tr>
<tr>
<td style="text-align:left"><code>.</code></td>
<td style="text-align:left">光标所在行</td>
</tr>
<tr>
<td style="text-align:left"><code>&#39;m</code></td>
<td style="text-align:left">包含位置标记 m 的行</td>
</tr>
<tr>
<td style="text-align:left"><code>&#39;&lt;</code></td>
<td style="text-align:left">最近一次高亮选区的首行</td>
</tr>
<tr>
<td style="text-align:left"><code>&#39;&gt;</code></td>
<td style="text-align:left">最近一次高亮选区的末行</td>
</tr>
<tr>
<td style="text-align:left"><code>%</code></td>
<td style="text-align:left">整个文件（<code>:1,$</code> 的简写形式)</td>
</tr>
</tbody>
</table>
<h2 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h2><ul>
<li><code>&lt;C-r&gt;&lt;C-w&gt;</code> 将光标下单词插入命令行中</li>
<li><code>&lt;C-r&gt;&lt;C-a&gt;</code> 将光标下字串插入命令行中</li>
<li><code>q/</code> 打开查找命令历史的命令行窗口</li>
<li><code>q:</code> 打开 Ex 命令历史的命令行窗口</li>
<li><code>&lt;C-f&gt;</code> 从命令行模式切换到命令行窗口</li>
<li><code>&lt;up&gt;</code> <code>&lt;down&gt;</code> 向前/向后遍历历史命令。若已输入部分内容，则只遍历已输入内容开头的命令。</li>
<li><code>&lt;C-p&gt;</code> <code>&lt;C-n&gt;</code> 向前/向后遍历历史命令。不会根据已输入内容进行过滤。</li>
</ul>
<h1 id="插入特殊字符"><a href="#插入特殊字符" class="headerlink" title="插入特殊字符"></a>插入特殊字符</h1><p>在插入模式中输入 <code>&lt;C-v&gt;{code}</code>。Vim 接受的字符编码共包含 3 位数字，不满 3 位的在开头补 0，超过 3 位的用 <code>&lt;C-v&gt;u{code}</code> 来输入，其中 {code} 为十六进制编码。</p>
<p><code>ga</code> 命令查看光标所在字符的编码。</p>
<p>如果 <code>&lt;C-v&gt;</code> 后面跟一个非数字键，则会插入这个按键本身所代表的字符。比如若开启了’expandtab’选项，则 {Tab} 键会插入空格，而 <code>&lt;C-v&gt;{Tab}</code> 会插入制表符。</p>
<ul>
<li><code>&lt;C-v&gt;{123}</code> 以十进制字符编码插入字符</li>
<li><code>&lt;C-v&gt;u{1234}</code> 以十六进制字符编码插入字符</li>
<li><code>&lt;C-v&gt;{nodigit}</code> 按原义插入非数字字符</li>
<li><p><code>&lt;C-k&gt;{char1}{char2}</code> 插入以二合字母表示的字符</p>
</li>
<li><p><code>:h digraphs-default</code> 缺省的二合字母集依从的惯例</p>
</li>
<li><code>:h digraph-table</code> 二合字母列表</li>
</ul>
<h1 id="窗口"><a href="#窗口" class="headerlink" title="窗口"></a>窗口</h1><p><strong>新建窗口</strong></p>
<ul>
<li><code>&lt;C-w&gt;s</code>：水平切分当前窗口，新窗口仍显示当前缓冲区</li>
<li><code>&lt;C-w&gt;v</code>：垂直切分当前窗口，新窗口仍显示当前缓冲区</li>
<li><code>:sp[lit] {file}</code>：水平切分当前窗口，并在新窗口中载入{file}</li>
<li><code>:vsp[lit] {file}</code>：垂直切分当前窗口，并在新窗口中载入{file}</li>
</ul>
<p><strong>在窗口间切换，详见 <code>:h window-move-curse</code></strong></p>
<ul>
<li><code>&lt;C-w&gt;w</code> <code>&lt;C-w&gt;&lt;C-w&gt;</code> 在窗口间循环切换</li>
<li><code>&lt;C-w&gt;h</code> 切换到左边的窗口</li>
<li><code>&lt;C-w&gt;j</code> 切换到下边的窗口</li>
<li><code>&lt;C-w&gt;k</code> 切换到上边的窗口</li>
<li><code>&lt;C-w&gt;l</code> 切换到右边的窗口</li>
</ul>
<p><strong>关闭窗口</strong></p>
<ul>
<li><code>:clo[se]</code> <code>&lt;C-w&gt;c</code>：关闭活动窗口</li>
<li><code>:on[ly]</code> <code>&lt;C-w&gt;o</code>：只保留活动窗口，关闭其他所有窗口</li>
</ul>
<p><strong>改变窗口大小及重新排列窗口，详见 <code>:h window-resize</code></strong></p>
<ul>
<li><code>&lt;C-w&gt;=</code>：使所有窗口等宽、等高</li>
<li><code>&lt;C-w&gt;_</code>：最大化活动窗口的高度</li>
<li><code>&lt;C-w&gt;\|</code>：最大化活动窗口的宽度</li>
<li><code>[N]&lt;C-w&gt;_</code>：把活动窗口的高度设为[N]行</li>
<li><code>[N]&lt;C-w&gt;\|</code>：把活动窗口的宽度设为[N]列</li>
</ul>
<p><strong>重排窗口，详见 <code>:h window-moving</code></strong></p>
<ul>
<li><code>&lt;C-w&gt;r</code> <code>&lt;C-w&gt;&lt;C-r&gt;</code>：将所有窗口下移/右移，只影响当前窗口所在列/行</li>
<li><code>&lt;C-w&gt;R</code>：将所有窗口上移/左移，只影响当前窗口所在列/行</li>
<li><code>[N]&lt;C-w&gt;x</code> <code>[N]&lt;C-w&gt;&lt;C-x&gt;</code>：将当前窗口与下一个窗口交换，若无下个窗口，则与上一个窗口交换，光标会切换到目标窗口。通过指定[N]来将当前窗口与第[N]个窗口交换（第一个窗口为1），只影响当前窗口所在行/列<br><code>&lt;C-w&gt;K</code>：将当前窗口移到最上方，并独占最大宽度<br><code>&lt;C-w&gt;J</code>：将当前窗口移到最下方，并独占最大宽度<br><code>&lt;C-w&gt;H</code>：将当前窗口移到最左方，并独占最大高度<br><code>&lt;C-w&gt;L</code>：将当前窗口移到最右方，并独占最大高度<br><code>[N]&lt;C-w&gt;T</code>：将当前窗口移到新标签页。若指定[N]则新标签页会置于第N个标签页之前，否则置于当前标签页之后。</li>
</ul>
<p><strong>其他</strong></p>
<ul>
<li><code>:lcd {path}</code>：设置当前窗口的本地工作目录</li>
<li><code>:windo lcd {path}</code>：设置当前标签页中所有窗口的本地工作目录</li>
</ul>
<h1 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h1><p><strong>打开及关闭标签页</strong><br><code>:tabe[dit] {filename}</code>：在新标签页中打开{filename}。若省略{filename}，则新标签页会包含空缓冲区<br><code>:tabc[lose]</code>：关闭当前标签页及其中所有窗口<br><code>:tabo[nly]</code>：只保留活动标签页，关闭所有其他标签页<br><code>&lt;C-w&gt;T</code>：若当前标签页不止一个窗口，则把当前窗口移到一个新标签页中</p>
<p><strong>在标签页间切换</strong><br><code>:tabn[ext] {N}</code> <code>{N}gt</code>：跳到标签页{N}，标签页编号从1开始。省略{N}则跳到下一个标签页<br><code>:tabp[revious]</code> <code>{N}gT</code>：同上，方向相反</p>
<p><strong>重排标签页</strong><br><code>:tabmove {N}</code>：当N为0时，当前标签页会被移到开头；若省略了N，则移到末尾；也可鼠标拖动</p>
<h1 id="quickfix"><a href="#quickfix" class="headerlink" title="quickfix"></a>quickfix</h1><ul>
<li><code>:cope[n] [n]</code> 打开 quickfix 窗口，可指定高度。</li>
<li><code>:ccl[ose]</code> 关闭 quickfix 窗口。</li>
<li><code>:cl[ist] [{args}]</code> 列出所有项目。<ul>
<li><code>{from} [, {to}]</code> 指定范围。</li>
<li><code>+{count}</code> 列出当前项目和后面 <code>{count}</code> 个项目。</li>
</ul>
</li>
<li><code>:cc [N]</code> 跳转到第 N 项。</li>
<li><code>:cp[revious]</code> 上一项。</li>
<li><code>:cn[ext]</code> 下一项。</li>
<li><code>:cr[ewind]|cfir[st] [n]</code> 跳转到第 n 项，若省略 n 则跳转到第一项。</li>
<li><code>:cla[st] [n]</code> 跳转到第 n 项，若省略 n 则跳转到最后一项。</li>
<li><code>:cold[er]</code> 切到前一个列表。</li>
<li><code>:cnew</code> 切到后一个列表。</li>
</ul>
<h1 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h1><p><code>:pwd</code>：打印工作目录</p>
<p><strong>相对于当前工作目录打开一个文件</strong><br><code>:e[dit] {file}</code>：{file} 可以是相对于工作目录的文件路径，也可以是绝对路径<br><code>:e[dit] %:h/{file}</code>：<code>%:h</code>表示当前活动文件的目录路径，也可使用 <code>:e %:h&lt;Tab&gt;</code> 显示出路径后再继续输入文件名<br>在 _vimrc 文件中加入 <code>cnoremap &lt;expr&gt; %% getcmdtype()==&#39;:&#39; ? expand(&#39;%:h&#39;).&#39;/&#39; : &#39;%%&#39;</code></p>
<p><strong>通过文件名查找文件 详见 <code>:h file-searching</code></strong><br><code>set path+={root}/**</code>：首先要设置path变量。{root}为某个目录路径，**通配符表示其下所有子目录<br><code>:find {file}</code>：在 path 中查找文件</p>
<p><strong>打开文件管理器 使用 netrw <a href="http://vimcdoc.sourceforge.net/doc/pi_netrw.html" target="_blank" rel="noopener">API</a></strong><br><code>:e[dit] {path}</code>：打开文件管理器，{path}是目录名而不是文件名<br><code>:e[dit].</code>：打开工作目录<br><code>:e[dit] %:h</code>：打开当前活动缓冲区所在目录<br><code>:E[xplore]</code>：打开当前活动缓冲区所在目录或指定目录<br><code>:Se[xplore]</code>：在一个水平切分窗口里打开当前活动缓冲区所在目录或指定目录<br><code>:Ve[xplore]</code>：在一个垂直切分窗口里打开当前活动缓冲区所在目录或指定目录<br><code>:Te[xplore]</code>：在一个新标签页中打开当前目录或指定目录<br><code>&lt;C-^&gt;</code>：在文件管理器中切换到上一个打开的文件/上一个进入的目录<br><code>%</code>：创建一个新文件<br><code>d</code>：创建一个新目录<br><code>D</code>：删除文件/目录<br><code>-</code>：进入上一层目录，不能返回根目录<br><code>a</code>：在三种方式间切换：正常显示、隐藏（不显示匹配）、显示（只显示匹配）<br><code>c</code>：使浏览中的目录成为当前目录<br><code>i</code>：切换列表方式<br><code>&lt;C-l&gt;</code>：刷新目录列表<br><code>o</code>：打开新浏览窗口，进入光标所在目录，使用水平分割<br><code>v</code>：打开新浏览窗口，进入光标所在目录，使用垂直分割<br><code>p</code>：预览文件<br><code>P</code>：在前次使用的窗口里浏览<br><code>r</code>：反转排序<br><code>R</code>：重命名<br><code>s</code>：选择排序方式：按名字、时间或文件大小<br><code>S</code>：指定按名字排序的后缀优先<br><code>t</code>：在新标签页里打开光标所在的文件/目录<br><code>mf</code>：标记文件/目录，用于后续批量操作<br><code>x</code>：指定某个程序来打开文件</p>
<p><strong>把文件保存到不存在的目录中</strong><br><code>:!mkdir -p %:h</code>：创建任何不存在的中间目录，然后<code>:w</code></p>
<h1 id="缓冲区列表"><a href="#缓冲区列表" class="headerlink" title="缓冲区列表"></a>缓冲区列表</h1><ul>
<li>查看<ul>
<li><code>:ls[!]</code> <code>:buffers[!]</code>: 查看缓冲区列表，加上 <code>!</code> 将同时显示列表外缓冲区。</li>
</ul>
</li>
<li>切换<ul>
<li><code>&lt;C-6&gt;</code>               : 在当前文件和轮换文件间切换。</li>
<li><code>:bp[rev]</code> <code>:bn[ext]</code> : 反向/正向切换一个缓冲区。</li>
<li><code>:bfirst</code> <code>:blast</code>    : 跳到缓冲区列表的开头/结尾。</li>
<li><code>:b[uffer] {num/name}</code>: 打开指定编号/名字的缓冲区。</li>
</ul>
</li>
<li>删除<ul>
<li><code>:bd[elete] {n1} {n2}</code>: 删除指定编号的若干个缓冲区，即置为“列表外缓冲区”。</li>
<li><code>{n},{m} bd[elete]</code>   : 删除编号从 n 到 m 的所有缓冲区，即置为“列表外缓冲区”。</li>
<li><code>:bw[ipeout]</code>         : 彻底删除缓冲区，用法同 <code>:bd[elete]</code>。</li>
</ul>
</li>
<li>执行<ul>
<li><code>:bufdo</code>              : 对所有缓冲区执行命令。</li>
</ul>
</li>
</ul>
<p><strong>隐藏缓冲区</strong></p>
<p>切换缓冲区时（包括执行 <code>:bufdo</code> <code>:argdo</code> 时），若缓冲区尚未保存，则必须在命令后加上 <code>!</code>。可通过 <code>hidden</code> 选项来让被切换走的缓冲区变为隐藏缓冲区。</p>
<ul>
<li><code>set [no]hid[den]</code> 针对全局</li>
<li><code>set bufhidden|bh</code> 针对缓冲区</li>
<li><code>:hide {cmd}</code> 针对命令</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">符号</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">u</td>
<td style="text-align:left">列表外缓冲区 unlisted-buffer</td>
</tr>
<tr>
<td style="text-align:left">%</td>
<td style="text-align:left">当前缓冲区</td>
</tr>
<tr>
<td style="text-align:left">#</td>
<td style="text-align:left">轮换缓冲区</td>
</tr>
<tr>
<td style="text-align:left">a</td>
<td style="text-align:left">激活缓冲区，缓冲区被加载且显示</td>
</tr>
<tr>
<td style="text-align:left">h</td>
<td style="text-align:left">隐藏缓冲区，缓冲区被加载但不显示</td>
</tr>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">只读缓冲区</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">不可改缓冲区，’modifiable’ 选项不置位</td>
</tr>
<tr>
<td style="text-align:left">+</td>
<td style="text-align:left">已修改缓冲区</td>
</tr>
</tbody>
</table>
<h1 id="参数列表"><a href="#参数列表" class="headerlink" title="参数列表"></a>参数列表</h1><ul>
<li>查看<ul>
<li><code>:ar[gs]</code>：显示当前参数列表内容</li>
</ul>
</li>
<li>编辑<ul>
<li><code>:ar[gs] {argList}</code>：设置参数列表内容，其中 {argsList} 可以包括文件名、通配符 [^wildcard] 和 shell 命令输出结果（<code>:ar {cmd}</code>）</li>
<li><code>:arge[dit] [{name}]</code>：将 {name} 添加到参数列表并编辑该文件，缺省为当前缓冲区的文件名</li>
<li><code>:arga[dd] [{name}]</code>：将 {name} 添加到参数列表，缺省为当前缓冲区的文件名</li>
<li><code>:argd {pattern}</code> <code>:[range]argd</code>：按照模式删除参数；按照范围删除参数，参数列表从 1 开始计数，<code>$</code> 表示末尾，<code>%</code> 表示全部，<code>.</code> 或不指定表示当前</li>
</ul>
</li>
<li>切换<ul>
<li><code>:[count]n[ext]</code>：编辑当前之后第 count 个文件</li>
<li><code>:[count]N[ext]</code> <code>:[count]prev[ious]</code>：编辑当前之前第 count 个文件</li>
<li><code>:rew[ind]</code> <code>:fir[st]</code>：编辑第一个文件</li>
<li><code>:la[st]</code>：编辑最后一个文件</li>
</ul>
</li>
<li>执行<ul>
<li><code>:[range]argdo {cmd}</code>：对参数列表中的文件批量执行命令；要先设置 <code>hidden</code> 选项。</li>
</ul>
</li>
</ul>
<p>[^wildcard]: <code>*</code> 匹配 0 个或多个字符，范围仅限指定的目录，不含其子目录（如：<code>*.js</code>）；<code>**</code> 也匹配 0 个或多个字符，范围包括指定目录及其子目录（如：<code>**/*.js</code>）。</p>
<h1 id="在文件中移动"><a href="#在文件中移动" class="headerlink" title="在文件中移动"></a>在文件中移动</h1><p>动作命令详见 <code>:h motion.txt</code></p>
<h2 id="滚屏"><a href="#滚屏" class="headerlink" title="滚屏"></a>滚屏</h2><ul>
<li><code>&lt;C-u&gt;</code> 向上滚动半屏</li>
<li><code>&lt;C-d&gt;</code> 向下滚动半屏</li>
<li><code>&lt;C-b&gt;</code> 向上滚动一屏</li>
<li><code>&lt;C-f&gt;</code> 向下滚动一屏</li>
<li><code>[{n}]&lt;C-y&gt;</code> 向上滚动 {n} 行，缺省 1 行</li>
<li><code>[{n}]&lt;C-e&gt;</code> 向下滚动 {n} 行，缺省 1 行</li>
</ul>
<h2 id="在实际行和屏幕行间移动"><a href="#在实际行和屏幕行间移动" class="headerlink" title="在实际行和屏幕行间移动"></a>在实际行和屏幕行间移动</h2><ul>
<li><code>j</code>  向下移动一个实际行</li>
<li><code>gj</code> 向下移动一个屏幕行</li>
<li><code>k</code>  向上移动一个实际行</li>
<li><code>gk</code> 向上移动一个屏幕行</li>
<li><code>0</code>  移动到实际行的行首</li>
<li><code>g0</code> 移动到屏幕行的行首</li>
<li><code>^</code>  移动到实际行的第一个非空白字符</li>
<li><code>g^</code> 移动到屏幕行的第一个非空白字符</li>
<li><code>$</code>  移动到实际行的行尾</li>
<li><code>g$</code> 移动到屏幕行的行尾</li>
</ul>
<h2 id="基于单词、字串、句子、段落移动"><a href="#基于单词、字串、句子、段落移动" class="headerlink" title="基于单词、字串、句子、段落移动"></a>基于单词、字串、句子、段落移动</h2><p><strong>基于单词移动</strong></p>
<p><code>w</code>  移动到下一个词头<br><code>b</code>  移动到上一个词头<br><code>e</code>  移动到下一个词尾<br><code>ge</code> 移动到上一个词尾</p>
<p><strong>基于字串移动</strong></p>
<p>只需将上述4个命令中的<code>w</code> <code>b</code> <code>e</code>换成大写</p>
<p>单词由字母、数字、下划线组成，或由连续的其他符号组成；字串由非空白符组成，由空白符分隔。</p>
<p><strong>基于句子移动</strong></p>
<p><code>(</code> <code>)</code> 跳转到上一句/下一句开头</p>
<p><strong>基于段落移动</strong></p>
<p><code>{</code> <code>}</code> 跳转到上一段/下一段开头</p>
<h2 id="行内查找"><a href="#行内查找" class="headerlink" title="行内查找"></a>行内查找</h2><ul>
<li><code>f{char}</code> 正向移动到下一个{char}所在之处</li>
<li><code>F{char}</code> 反向移动到上一个{char}所在之处</li>
<li><code>t{char}</code> 正向移动到下一个{char}所在之处的前一个字符上</li>
<li><code>T{char}</code> 反向移动到上一个{char}所在之处的后一个字符上</li>
<li><code>;</code> 正向重复上一次字符查找命令</li>
<li><code>,</code> 反向重复上一次字符查找命令</li>
</ul>
<h2 id="文本对象"><a href="#文本对象" class="headerlink" title="文本对象"></a>文本对象</h2><p><code>i</code> 表示分隔符内的文本，<code>a</code> 表示包含分隔符本身及其内部文本。用 surround 插件可以方便地操作分隔符。</p>
<ul>
<li><code>i)</code> <code>ib</code> 圆括号(parentheses)；<code>i)</code>与<code>i(</code>一样，下同</li>
<li><code>i}</code> <code>iB</code> 花括号(braces)</li>
<li><code>i]</code> 方括号(brackets)</li>
<li><code>i&gt;</code> 尖括号(angle brackets)</li>
<li><code>i&#39;</code> 单引号(single quotes)</li>
<li><code>i&quot;</code> 双引号(double quotes)</li>
<li><code>i`</code> 反引号(backticks)</li>
<li><p><code>it</code> XML标签(tags)</p>
</li>
<li><p><code>iw</code> <code>aw</code> 当前单词；当前单词及一个空格</p>
</li>
<li><code>iW</code> <code>aW</code> 当前字串；当前字串及一个空格</li>
<li><code>is</code> <code>as</code> 当前句子；当前句子及一个空格</li>
<li><code>ip</code> <code>ap</code> 当前段落；当前段落及一个空行</li>
</ul>
<h2 id="标记"><a href="#标记" class="headerlink" title="标记"></a>标记</h2><ul>
<li><code>m{a-zA-Z}</code> 设置标记。小写只在该缓冲区内可见，大写全局可见</li>
<li><code>`{mark}</code> 跳转到标记处的行和列</li>
<li><code>&#39;{mark}</code> 跳转到标记处的行首</li>
<li><code>:marks</code> 获取所有标记的列表</li>
<li><code>:delmarks {mark1} {mark2}</code> 删除指定标记；同时删除的多个标记之间用空格分隔</li>
</ul>
<p><strong>自动位置标记</strong></p>
<ul>
<li><code>`</code> 当前文件中上次跳转动作之前的位置</li>
<li><code>`.</code> 上次修改的地方</li>
<li><code>`^</code> 上次插入的地方</li>
<li><code>`[</code> 上次修改或复制的起始位置</li>
<li><code>`]</code> 上次修改或复制的结束位置</li>
<li><code>`&lt;</code> 上次高亮选区的起始位置</li>
<li><code>`&gt;</code> 上次高亮选区的结束位置</li>
<li><code>%</code> 在一组开、闭括号间跳转，vim 会在跳转发生的地方设置一个标记</li>
</ul>
<h1 id="在文件间跳转"><a href="#在文件间跳转" class="headerlink" title="在文件间跳转"></a>在文件间跳转</h1><p>哪些动作算<strong>跳转</strong>？</p>
<ul>
<li>简单来说，大范围的动作命令可能被当作跳转，小范围的动作命令只能算作移动；</li>
<li>面向句子、段落，甚至文件之间的移动（如 <code>:edit</code>）都算跳转；</li>
</ul>
<p>以下是部分跳转命令</p>
<ul>
<li><code>[count]G</code> 跳转到指定的行号</li>
<li><code>/pattern&lt;CR&gt;</code> <code>?pattern&lt;CR&gt;</code> <code>n</code> <code>N</code> 跳转到模式匹配处</li>
<li><code>%</code> 跳转到括号匹配处</li>
<li><code>(</code> <code>)</code> 跳转到上一句/下一句开头</li>
<li><code>{</code> <code>}</code> 跳转到上一段/下一段开头</li>
<li><code>H</code> <code>M</code> <code>L</code> 跳转到屏幕最上方/正中间/最下方</li>
<li><code>gf</code> 跳转到光标下的文件名</li>
<li><code>&lt;C-]&gt;</code> 跳转到光标下关键字的定义处</li>
<li><code>&#39;{mark}</code> <code>`{mark}</code> 跳转到一个位置标记</li>
</ul>
<h2 id="Vim-为每个窗口维护了一份独立的跳转列表"><a href="#Vim-为每个窗口维护了一份独立的跳转列表" class="headerlink" title="Vim 为每个窗口维护了一份独立的跳转列表"></a>Vim 为每个窗口维护了一份独立的跳转列表</h2><ul>
<li><code>:ju[mps]</code> 查看跳转列表</li>
<li><code>:cle[arjumps]</code> 清除跳转列表</li>
<li><code>&lt;C-o&gt;</code>/<code>&lt;C-i&gt;</code> 反向/正向遍历跳转列表</li>
</ul>
<h2 id="Vim-为每个缓冲区维护了一份独立的改变列表"><a href="#Vim-为每个缓冲区维护了一份独立的改变列表" class="headerlink" title="Vim 为每个缓冲区维护了一份独立的改变列表"></a>Vim 为每个缓冲区维护了一份独立的改变列表</h2><ul>
<li><code>:changes</code> 查看变列表</li>
<li><code>g;</code>/<code>g,</code> 反向/正向遍历改变列表；不会被记录进跳转列表</li>
<li><code>u&lt;C-r&gt;</code> 返回上次修改处。这是一种取巧的做法，通过“撤销-&gt;重做”来移动光标</li>
</ul>
<h2 id="Vim-会自动创建一些位置标记"><a href="#Vim-会自动创建一些位置标记" class="headerlink" title="Vim 会自动创建一些位置标记"></a>Vim 会自动创建一些位置标记</h2><p><code>gi</code> 返回上次退出 insert 模式的位置，并进入 insert 模式</p>
<h2 id="Vim-会把文档中的文件名当成一个超链接"><a href="#Vim-会把文档中的文件名当成一个超链接" class="headerlink" title="Vim 会把文档中的文件名当成一个超链接"></a>Vim 会把文档中的文件名当成一个超链接</h2><ul>
<li><code>gf</code> 打开光标下的文件名，此动作会在跳转列表中增加一条记录</li>
<li><code>:set suffixesadd+=.suffix</code> 指定一个或多个文件扩展名，当 Vim 用 <code>gf</code> 搜索文件名时，会尝试用这些扩展名</li>
<li><code>:set path+={path}</code>  <code>gf</code> 除了会在工作目录的相对目录中搜索外，也会在 <code>path</code> 中的路径下搜索</li>
</ul>
<h1 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h1><ul>
<li>无名寄存器<ul>
<li><code>&quot;&quot;</code>：缓存最后一次操作内容</li>
</ul>
</li>
<li>具名寄存器<ul>
<li><code>&quot;a</code>~<code>&quot;z</code>：通过指定名称来使用。同一字母大小写是同一个寄存器，小写会覆盖寄存器内原有内容，大写会续接原有内容。</li>
</ul>
</li>
<li>数字寄存器<ul>
<li><code>&quot;0</code>：复制专用寄存器，只受 <code>y{motion}</code> 影响</li>
<li><code>&quot;1</code>~<code>&quot;9</code>：缓存最近 9 次删除内容</li>
</ul>
</li>
<li>行内删除寄存器<ul>
<li><code>&quot;-</code>：行内删除寄存器</li>
</ul>
</li>
<li>只读寄存器<ul>
<li><code>&quot;%</code>：当前文件名</li>
<li><code>&quot;#</code>：轮换文件名（当前交替文件名）</li>
<li><code>&quot;.</code>：上次插入的文本</li>
<li><code>&quot;:</code>：上次执行的 Ex 命令</li>
</ul>
</li>
<li>模式寄存器<ul>
<li><code>&quot;/</code>：上次查找的模式</li>
</ul>
</li>
<li>表达式寄存器<ul>
<li><code>&quot;=</code>：只读，用于执行表达式命令</li>
</ul>
</li>
<li>黑洞寄存器<ul>
<li><code>&quot;_</code>：不缓存内容，用于彻底删除</li>
</ul>
</li>
<li>系统剪贴板<ul>
<li><code>&quot;+</code>：系统剪贴板</li>
<li><code>&quot;*</code>：选择专用寄存器。在X11视窗系统中代表主剪贴板（primary），在其余系统中同系统剪贴板</li>
<li><code>&quot;~</code>：拖放操作寄存器</li>
</ul>
</li>
</ul>
<p><strong>引用一个寄存器</strong></p>
<ul>
<li>insert mode：<code>&lt;C-r&gt;{reg without &quot;}</code>。无需输入寄存器名称中的 <code>&quot;</code>。</li>
<li>normal mode：<code>x</code>、<code>s</code>、<code>d{motion}</code>、<code>c{motion}</code>、<code>y{motion}</code> 以及它们对应的大写命令，在命令前加 <code>{reg}</code> 前缀指定引用某个寄存器。</li>
<li>visual mode：选中高亮内容后同 normal mode。</li>
<li>Ex mode：<code>:delete {reg}</code>、<code>:yank {reg}</code>、<code>:put {reg}</code>。</li>
<li>脚本：<code>@{reg without &quot;}</code></li>
</ul>
<p>缺省引用的是无名寄存器 <code>&quot;&quot;</code>。</p>
<p><strong>查看寄存器内容</strong></p>
<p><code>:reg[s] [{reg}]</code> <code>:di[splay] [{reg}]</code>：查看寄存器，若不指定寄存器名字，则查看全部。</p>
<p><strong>粘贴</strong></p>
<ul>
<li><code>p</code>：粘贴至光标后</li>
<li><code>P</code>：粘贴至光标前</li>
<li><code>gp</code>：粘贴至当前行之前，光标落于被粘贴行末尾</li>
<li><code>gP</code>：粘贴至当前行之后，光标落于被粘贴行开头</li>
</ul>
<p>在终端中使用系统剪贴板进行粘贴时可能会遇到一些问题，详见《Vim实用技巧》之《技巧63》。</p>
<h1 id="宏"><a href="#宏" class="headerlink" title="宏"></a>宏</h1><p><strong>录制宏</strong></p>
<ol>
<li><code>q{reg}</code>：开始录制，宏存放于 {reg} 指定的寄存器中，若 {reg} 为大写的具名寄存器，则会将新宏续接在原宏后面</li>
<li><code>q</code>：结束录制</li>
</ol>
<p><strong>执行宏</strong></p>
<ul>
<li><code>[n]@{reg}</code>：执行 {reg} 中保存的宏，可指定运行次数</li>
<li><code>@@</code>：重复上次调用的宏</li>
</ul>
<p><em>以上对寄存器的引用无需使用 <code>&quot;</code></em></p>
<p><strong>编辑宏</strong></p>
<p>以下以寄存器 a 为例。</p>
<ol>
<li>粘贴宏内容：<code>:put a</code> 粘贴至当前行下方，或者 <code>&quot;ap</code> 粘贴至光标之后。</li>
<li>编辑宏内容。</li>
<li>保存新内容至寄存器：<code>0</code>，<code>&quot;ay$</code>。</li>
</ol>
<h1 id="模式"><a href="#模式" class="headerlink" title="模式"></a>模式</h1><h2 id="模式-1"><a href="#模式-1" class="headerlink" title="模式"></a>模式</h2><p><code>:h perl-patterns</code></p>
<p><strong>全局设置大小写敏感性</strong></p>
<ul>
<li><code>set ignorecase|ic</code> <code>set noignorecase|noic</code>: 大小写敏感关/开（会影响自动补全）。</li>
<li><code>set smartcase|scs</code> <code>set nosmartcase|noscs</code>: 智能模式，只有在设置了 <code>ignorecase</code> 时才生效。</li>
</ul>
<p><strong>临时设置大小写敏感性</strong></p>
<ul>
<li><code>\c</code> <code>\C</code>:忽略/区分大小写，可出现在模式的任意位置</li>
</ul>
<p><strong>4种语法模式</strong></p>
<ul>
<li><code>\v</code>:very magic 模式，除了 <code>_</code>、大小写字母、数字外，都具有特殊含义，<code>#</code> 暂时无特殊含义，但是 Vim 保留扩展其特殊含义的可能</li>
<li><code>\V</code>:very nomagic 模式，除了 <code>\</code>、<code>/</code>、<code>?</code> 外都无特殊含义（后 2 个为查找域结束符）</li>
<li><code>\m</code>:magic 模式，缺省模式，除了 <code>*</code>、<code>^</code>、<code>$</code>、<code>.</code>、<code>~</code>、<code>[</code>、<code>]</code> 外都无特殊含义</li>
<li><code>\M</code>:nomagic 模式，除 了 <code>^</code>、<code>$</code> 外都无特殊含义</li>
</ul>
<p><strong>模式项 详见<code>:h pattern-overview</code></strong></p>
<ul>
<li><code>/(expr1)@&gt;expr2</code>:固化分组。详见另一片正则表达式的博文。</li>
<li><code>/expr1(expr2)@=</code>:肯定型顺序环视。匹配所有满足后置表达式为expr2的expr1。</li>
<li><code>/expr1(expr2)@!</code>:否定型顺序环视。匹配所有满足后置表达式<strong>不</strong>为expr2的expr1。</li>
<li><code>/(expr1)@&lt;=expr2</code>:肯定型逆序环视。匹配所有满足前置表达式为expr1的expr2。</li>
<li><code>/(expr1)@&lt;!expr2</code>:否定型逆序环视。匹配所有满足前置表达式<strong>不</strong>为expr1的expr2。</li>
<li><code>\zs</code>:肯定型逆序环视</li>
<li><code>\ze</code>:肯定型顺序环视</li>
</ul>
<p><strong>不捕获分组内容</strong></p>
<ul>
<li><code>%(pattern)</code>：不捕获分组内容</li>
</ul>
<p><strong>限制符</strong></p>
<ul>
<li><code>{n,m}</code>:  尽可能多地匹配 n ~ m 个元素。</li>
<li><code>{n}</code>:    尽可能多地匹配 n 个元素。</li>
<li><code>{n,}</code>:   尽可能多地匹配 n 及更多个元素。</li>
<li><code>{,m}</code>:   尽可能多地匹配 0 ~ m 个元素。</li>
<li><code>{}</code>:     尽可能多地匹配 0 及更多个元素。</li>
<li><code>{-n,m}</code>: 尽可能少地匹配 n ~ m 个元素。</li>
<li><code>{-n}</code>:   尽可能少地匹配 n 个元素。</li>
<li><code>{-n,}</code>:  尽可能少地匹配 n 及更多个元素。</li>
<li><code>{-,m}</code>:  尽可能少地匹配 0 ~ m 个元素。</li>
<li><code>{-}</code>:    尽可能少地匹配 0 及更多个元素。</li>
</ul>
<h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><ul>
<li><code>set wrapscan|ws</code>/<code>set nowrapscan|nows</code> 打开/关闭循环查找</li>
<li><code>set hlsearch|hls</code>/<code>set nohlsearch|nohls|hls!</code> 打开/关闭匹配高亮</li>
<li><code>:noh</code> 关闭高亮，直到下一次查找</li>
<li><code>set incsearch|is</code>/<code>set noincsearch|nois</code> 打开/关闭增量查找</li>
<li><code>&lt;C-r&gt;&lt;C-w&gt;</code> 用当前预览的匹配结果对查找域进行自动补全</li>
<li><code>:%s/{pattern}//gn</code> 统计匹配数量。{pattern} 可省略，即使用当前查找模式；<code>n</code> 表示抑制替换</li>
<li><code>q/</code> 调出查找历史命令行窗口</li>
</ul>
<h2 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h2><p>完整的substitute语法：<br><code>:[range]s[ubstitute]/{pattern}/{string}/[flags]</code></p>
<p>标志位 <em><code>:h s_flags</code></em>：</p>
<ul>
<li><code>g</code>：在全局范围内执行，即修改一行内所有匹配。</li>
<li><code>c</code>：让用户确认或拒绝每一处修改。<em><code>:h :s_c</code></em><br>  选项：<ul>
<li><code>y</code>：替换此处匹配。</li>
<li><code>n</code>：忽略此处匹配。</li>
<li><code>q</code>：退出替换过程。</li>
<li><code>l</code>：“last”——替换此处匹配后退出。</li>
<li><code>a</code>：“all”——替换此处与之后所有的匹配。</li>
<li><code>&lt;C-e&gt;</code>：向下滚动屏幕，即文本向上移动。</li>
<li><code>&lt;C-y&gt;</code>：向上滚动屏幕，即文本向下移动。</li>
</ul>
</li>
<li><code>n</code>：抑制替换行为，转而报告匹配个数。</li>
<li><code>e</code>：屏蔽错误信息。</li>
<li><code>&amp;</code>：重用上一次 <code>substitute</code> 命令所用的标志位，必须写在 flags 的第一位。</li>
<li><code>i</code>：忽略查找域的大小写。</li>
<li><code>I</code>：不忽略查找域的大小写。</li>
<li><code>p</code>：显示最后一处替换所在行。</li>
<li><code>#</code>：同 <code>p</code>，并加上行号。</li>
<li><code>l</code>：同 <code>p</code>，但显示效果同 <code>:list</code>，即用 <code>^</code> 显示无法打印的字符，并在行尾添加 <code>$</code>。</li>
<li><code>r</code>：只对不带参数的 <code>:&amp;</code> 和 <code>:s</code> 有效，作用同 <code>:~</code>：用最近一次的查找或替换命令中的模式来作为查找域，若最近一次的是替换命令且它的查找域为空，则继续在历史记录中向前查找。</li>
</ul>
<p>替换域中的特殊字符（部分）<br>详见<em><code>:h sub-replace-special</code></em><br>|符号|描述|<br>|:–|:–|<br>|<code>\r</code>|换行符|<br>|<code>\t</code>|制表符|<br>|<code>\\</code>|反斜杠|<br>|<code>\n</code>|第n个子匹配|<br>|<code>\0</code>|匹配模式的所有内容|<br>|<code>&amp;</code>|匹配模式的所有内容|<br>|<code>~</code>|使用上一次调用 <code>:substitute</code> 时的替换域|<br>|<code>\={Vim Script}</code>|执行{Vim Script}表达式，并将结果作为替换域|</p>
<p>替换相关命令<br>|命令|用途|<br>|:–|:–|<br>|<code>:[range]s[ubstitute] [flags] [count]</code> <code>:[range]&amp; [flags] [count]</code>|重复上一次替换操作，但忽略上次的flags，可手动添加flags|<br>|<code>:[range]&amp;&amp; [count]</code>|重复上一次替换操作，并带有上次的flags|<br>|<code>:[range]~[&amp;][flags] [count]</code>|同 <code>:&amp;r</code>|<br>|<code>&amp;</code>|同 <code>:s</code>|<br>|<code>g&amp;</code>|同 <code>:%s//~/&amp;</code>，其中查找域的内容用的是最近一次查找或替换命令所用的查找域<em>global substitute</em>|<br>|<code>:[range]sno[magic]</code>|同<code>:substitute</code>，但使用nomagic模式|<br>|<code>:[range]sm[agic]</code>|同<code>:substitute</code>，但使用magic模式|</p>
<p>global命令</p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>:[range]g[lobal]/{pattern}/[.,{finish}] [cmd]</code></td>
<td style="text-align:left">在range（缺省为整个文件<code>%</code>）范围内，对{pattern}匹配处执行cmd命令（缺省为<code>:p[rint]</code>），可以指定cmd的执行范围，<code>.</code>表示{pattern}匹配行，{finish}可通过偏移或匹配命令<code>/{pattern}/</code>指定</td>
</tr>
<tr>
<td style="text-align:left"><code>:[range]g[lobal]!/{pattern}/[.,{finish}] [cmd]</code></td>
<td style="text-align:left">在range（缺省为整个文件<code>%</code>）范围内，对{pattern}不匹配处执行cmd命令（缺省为<code>:p[rint]</code>）</td>
</tr>
<tr>
<td style="text-align:left"><code>:[range]v[global]/{pattern}/[.,{finish}] [cmd]</code></td>
<td style="text-align:left">同上</td>
</tr>
</tbody>
</table>
<h1 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h1><h2 id="vim-surroud"><a href="#vim-surroud" class="headerlink" title="vim-surroud"></a>vim-surroud</h2><p><code>ds</code> 和 <code>cs</code> 命令接受一个 target 作为第一个参数。目前所有的 target 都是单字符的。</p>
<ul>
<li><code>(</code> <code>)</code> <code>[</code> <code>]</code> <code>{</code> <code>}</code> <code>&lt;</code> <code>&gt;</code> 代表它们自身以及与其对应的另一个字符。</li>
<li><code>b</code> <code>B</code> <code>r</code> <code>a</code> 分别是 <code>)</code> <code>}</code> <code>]</code> <code>&gt;</code> 的别名，其中前两个沿用 Vim 的设定。</li>
<li><p><code>&#39;</code> <code>&quot;</code> <figure class="highlight plain"><figcaption><span>代表它们自身（成对地），它们仅会在当前行被搜索。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line">- `t` 代表一对 HTML/XML 标签。</span><br><span class="line">- `w` `W` `s` `p` 分别代表一个单词、字串、句子、段落。</span><br><span class="line"></span><br><span class="line">`cs` `ys` `vS` 需要一个单字符的 replacement 参数</span><br><span class="line"></span><br><span class="line">- 若使用 `)` `]` `&#125;` `&gt;`，则会正确匹配另一半符号。</span><br><span class="line">- 若使用 `(` `[` `&#123;`（`&lt;` 除外），则会正确匹配另一半符号，并在中间填充额外的空格。</span><br><span class="line">- `b` `B` `r` `a` 分别是 `)` `&#125;` `]` `&gt;` 的别名。</span><br><span class="line">- `&lt;C-]&gt;` 代表了 C 语言风格的 `&#123;&#125;`。</span><br><span class="line">- 若使用 `t` `&lt;`，则 Vim 会要求继续输入标签的属性。可以输入 `&lt;CR&gt;` 或 `&gt;` 来表示完成输入。Vim 会自动匹配闭标签。若使用 `&lt;C-t&gt;`，则生成的标签会自动换行。</span><br><span class="line">- 若使用 `s` ，则 Vim 会自动在开头加个空格，这样可以有效地删除 `()`。</span><br><span class="line">- surround 默认将字母 `l` 作为 Latex 的分隔符。</span><br><span class="line"></span><br><span class="line">除了上述的字符外，其余单字符会与其自身匹配成一对。</span><br><span class="line"></span><br><span class="line">**normal mode**</span><br><span class="line"></span><br><span class="line">- `ds&lt;s&gt;`：删除分隔符 `&lt;s&gt;`</span><br><span class="line">- `cs&lt;s&gt;&lt;t&gt;`：将 `&lt;s&gt;` 替换为 `&lt;t&gt;`</span><br><span class="line">- `cS&lt;s&gt;&lt;t&gt;`：将 `&lt;s&gt;` 替换为 `&lt;t&gt;`，并添加换行和缩进</span><br><span class="line">- `ys&#123;motion&#125;&lt;s&gt;` `ys&#123;文本对象&#125;&lt;s&gt;`：在指定文本外添加分隔符</span><br><span class="line">- `yS&#123;motion&#125;&lt;s&gt;` `yS&#123;文本对象&#125;&lt;s&gt;`：在指定文本外添加分隔符，并添加换行和缩进</span><br><span class="line">- `yss&lt;s&gt;`：在当前行外添加分隔符</span><br><span class="line">- `ySs&lt;s&gt;` `ySS&lt;s&gt;`：在当前行外添加分隔符，并添加换行和缩进</span><br><span class="line"></span><br><span class="line">**visual mode**</span><br><span class="line"></span><br><span class="line">- `S&lt;s&gt;`：在高亮选区外添加分隔符</span><br><span class="line"></span><br><span class="line">**insert mode**</span><br><span class="line"></span><br><span class="line">- `&lt;C-g&gt;s&lt;s&gt;` `&lt;C-S&gt;&lt;s&gt;`：插入分隔符并将光标置入分隔符中间；后者在终端中会使终端冻结</span><br><span class="line"></span><br><span class="line">**个性化**</span><br><span class="line"></span><br><span class="line">*`:h surround-customizing`*</span><br><span class="line"></span><br><span class="line">1. 在特定类型文件中启用自定义的分隔符。</span><br><span class="line">  `autocmd FileType php let b:surround_45 = &quot;&lt;?php \r ?&gt;&quot;`</span><br><span class="line">  其中，</span><br><span class="line">  - `php` 是指定的文件类型；</span><br><span class="line">  - `b` 表示后面的变量作用域为当前缓冲区；</span><br><span class="line">  - `surround_` 为变量名中的固定部分；</span><br><span class="line">  - `45` 为字符 `-` 的 ASCII 码（字符和 ASCII 码之间的转换可用 `char2nr()` 和 `nr2char()` 函数）；</span><br><span class="line">  - 回车符 `\r` 会被原始文本（即被分隔符包围的原文）替换。</span><br><span class="line">2. 动态输入分隔符标签中的内容。</span><br><span class="line">  `let g:surround_108 = &quot;\\begin&#123;\1environment: \1&#125;\r\\end&#123;\1\1&#125;&quot;`</span><br><span class="line">  - `\1` 表示输入参数，最高支持到 `\7`；</span><br><span class="line">  - 两个 `\1` 之间的内容会作为提示在用户输入时弹出，并最终会被输入的内容替换；</span><br><span class="line">  - 回车符 `\r` 会被原始文本（即被分隔符包围的原文）替换。</span><br><span class="line">3. 使用正则表达式完成额外的功能。</span><br><span class="line">    `let g:surround_108 = &quot;\\begin&#123;\1environment: \1&#125;\r\\end&#123;\1\r&#125;.*\r\1&#125;&quot;`</span><br><span class="line">    - 在第二组 `\1` 中，第一个 `\r` 后面跟的是替换操作所用的 pattern，第二个 `\r` 后面跟的是替换操作所用的 replacement。最终的效果是：第一组 `\1` 之间的内容会被输入内容替换；第二组 `\1` 之间的内容先被输入内容替换，然后用 pattern 进行匹配，匹配到的内容会被 replacement 替换，至此确定最终结果。</span><br><span class="line">    `let g:surround_&#123;char2nr(&quot;d&quot;)&#125; = &quot;&lt;div\1id: \r..*\r id=\&quot;&amp;\&quot;\1&gt;\r&lt;/div&gt;&quot;`</span><br><span class="line">    - 其中 `&amp;` 表示在第一组 `\r` 中匹配到的内容（`:h s/\&amp;`）</span><br><span class="line">4. 为分隔符自动添加后缀</span><br><span class="line">    `let g:surround_insert_tail = &quot;&lt;++&gt;&quot;`</span><br><span class="line">    - 在 insert 模式下使用 `&lt;C-g&gt;s&lt;s&gt;` 插入分隔符时会自动给分隔符添加后缀；</span><br><span class="line">    - 该变量的名称固定，且作用域必须是全局 `g:`；</span><br><span class="line">    - `&lt;++&gt;` 为自定义的后缀；</span><br><span class="line">    - 只能在 insert 模式下生效。</span><br><span class="line"></span><br><span class="line">## Vim 内部的 Grep</span><br><span class="line"></span><br><span class="line">`:vim[grep][!] /&#123;pattern&#125;/[g][j] &#123;file&#125;...`</span><br><span class="line">- `g`：缺省只为每个出现匹配的行创建一条记录。此参数的作用：若同一行中有多处匹配，则为每一处匹配创建一条记录。</span><br><span class="line">- `j`：缺省 Vim 会跳转到第一处匹配。此参数的作用：只更新 quickfix 列表，但不跳到第一处匹配。</span><br><span class="line">- `file`：可接受的参数同`:args`。</span><br><span class="line"></span><br><span class="line">## ctrlp</span><br><span class="line"></span><br><span class="line">### 快捷键</span><br><span class="line"></span><br><span class="line">`:h ctrlp-commands`</span><br><span class="line"></span><br><span class="line">- `&lt;C-p&gt;` `:CtrlP [starting-dir]` 启动文件查找模式，可指定目录。</span><br><span class="line">- 在输入框中</span><br><span class="line">  - `&lt;C-d&gt;` 在全路径搜索(`&gt;&gt;&gt;`)和文件名搜索(`&gt;d&gt;`)之间切换。</span><br><span class="line">  - `&lt;C-r&gt;` 在字符串匹配(`&gt;&gt;&gt;`)和正则匹配(`r&gt;&gt;`)之间切换。</span><br><span class="line">  - `&lt;C-f&gt;` `&lt;C-up&gt;` `&lt;C-b&gt;` `&lt;C-down&gt;` 循环切换搜索模式：普通（文件查找）、缓冲区查找、最近历史查找（MRU）。</span><br><span class="line">  - `&lt;tab&gt;` 自动补全目录名。</span><br><span class="line">  - `&lt;S-tab&gt;` 在匹配窗口和输入框之间切换。</span><br><span class="line">    - 在匹配窗口按下任意字符来选中首字符匹配的项目。多次按同一字符会在多个首字符匹配的项目间循环。</span><br><span class="line">- 移动</span><br><span class="line">  - `&lt;C-k&gt;` `&lt;up&gt;` `&lt;C-j&gt;` `&lt;down&gt;` 向上、向下。</span><br><span class="line">  - `&lt;C-a&gt;` `&lt;C-e&gt;` 移至输入框开头/末尾。</span><br><span class="line">  - `&lt;C-h&gt;` `&lt;left&gt;` `&lt;C-^&gt;` `&lt;C-l&gt;` `&lt;right&gt;` 左移、右移。</span><br><span class="line">- 编辑</span><br><span class="line">  - `&lt;C-]&gt;` `&lt;bs&gt;` `&lt;del&gt;` 左删、右删一个字符。</span><br><span class="line">  - `&lt;C-w&gt;` 左删一个词。</span><br><span class="line">  - `&lt;C-u&gt;` 清空。</span><br><span class="line">- 浏览输入记录</span><br><span class="line">  - `&lt;C-n&gt;` `&lt;C-p&gt;` 上翻、下翻。</span><br><span class="line">- 打开/创建文件</span><br><span class="line">  - `&lt;CR&gt;` 在当前窗口打开。</span><br><span class="line">  - `&lt;C-t&gt;` 在新 tab 打开。</span><br><span class="line">  - `&lt;C-v&gt;` 在新水平分割窗口打开。</span><br><span class="line">  - `&lt;C-x&gt;` `&lt;C-x&gt;` `&lt;C-CR&gt;` `&lt;C-s&gt;` 在新垂直分割窗口打开。</span><br><span class="line">  - `&lt;C-y&gt;` 创建新文件。</span><br><span class="line">- 打开多个文件</span><br><span class="line">  - `&lt;C-z&gt;` 标记/取消标记一个待打开的文件；标记/取消标记一个文件，它所在的目录会作为创建新文件的目录 `&lt;C-y&gt;`。</span><br><span class="line">  - `&lt;C-o&gt;` 打开所有被标记的文件。若没有标记文件的话就根据以下选项打开一个控制台对话框：</span><br><span class="line">    - `t` 在 tab 中。</span><br><span class="line">    - `v` 在垂直分割窗口中。</span><br><span class="line">    - `h` 在水平分割窗口中。</span><br><span class="line">    - `r` 在当前窗口。</span><br><span class="line">    - `i` 作为隐藏缓冲区。</span><br><span class="line">    - `x` （可选）使用 `g:ctrlp_open_func` 定义的函数。</span><br><span class="line">    - `a` 标记匹配窗口中的所有文件。</span><br><span class="line">    - `d` 将 ctrlp 的工作目录切换到所选文件的目录。</span><br><span class="line">- 函数快捷键</span><br><span class="line">  - `&lt;F5&gt;` 全量刷新匹配窗口和最近历史记录（MRU）。</span><br><span class="line">  - `&lt;F7&gt;` 清空 MRU 或删除 MRU 中被标记的项目。</span><br><span class="line">- 粘贴</span><br><span class="line">  - `&lt;Insert&gt;` `&lt;MiddleMouse&gt;` 将剪贴板粘贴至输入框。</span><br><span class="line">  - `&lt;C-\&gt;` 弹出一个对话框来选择粘贴的内容：光标下的词、光标下的文件名、搜索寄存器内容、最近的框选内容、系统剪贴板、指定寄存器。</span><br><span class="line"></span><br><span class="line">### 输入格式</span><br><span class="line"></span><br><span class="line">- 简单字符串：&apos;abc&apos; 相当于 `a[^a]\&#123;-&#125;b[^b]\&#123;-&#125;c`。</span><br><span class="line">- 正则表达式：按照 vim 的正则规则。</span><br><span class="line">- 字符串后紧跟 `:&#123;cmd&#125;`：指定打开文件后执行的命令。</span><br><span class="line">- 切换目录</span><br><span class="line">  - `..`：往上一级。后续每多一个点表示再往上一级。</span><br><span class="line">  - `@cd &#123;path&#125;` 切换目录。</span><br><span class="line">  - `@cd %:h` 切换到当前文件的目录。</span><br><span class="line">  - `/` `\` 切换到项目根目录。</span><br><span class="line">- `?` 帮助文件。</span><br><span class="line"></span><br><span class="line">### 自定义</span><br><span class="line"></span><br><span class="line">`:h ctrlp-customization` `:h ctrlp-options`</span><br><span class="line"></span><br><span class="line">- 更改启动命令</span><br><span class="line">  - `let g:ctrlp_map = &apos;&lt;C-p&gt;&apos;`</span><br><span class="line">  - `let g:ctrlp_cmd = &apos;CtrlP&apos;`</span><br><span class="line">- 不带指定目录启动时</span><br><span class="line">  - `let g:ctrlp_working_path_mode = &apos;ra&apos;`</span><br><span class="line">    - `c` 当前文件所在目录。</span><br><span class="line">    - `a` 当前文件所在目录，除非它是 `cwd` 的子目录。</span><br><span class="line">    - `r` 父目录中最近一个包含版本控制信息的目录：`.git`、`.hg`、`.svn`、`.bzr`、`_darcs`。</span><br><span class="line">      - `let g:ctrlp_root_marks = [&apos;pom.xml&apos;, &apos;.p4ignore&apos;]` 自定义父目录的标识。</span><br><span class="line">    - `w` 作为 `r` 的修饰符，从 `cwd` 开始搜索，而不是当前文件所在目录。</span><br><span class="line">    - `0` `&apos;&apos;` 禁用此特性。</span><br><span class="line">- 排除文件和目录</span><br></pre></td></tr></table></figure></p>
<p>“ vim 自带的排除方式<br>set wildignore+=<em>/tmp/</em>,<em>.so,</em>.swp,<em>.zip     “ MacOSX/Linux<br>set wildignore+=</em>\tmp\<em>,</em>.swp,<em>.zip,</em>.exe  “ Windows</p>
<p>“ ctrlp 的排除方式<br>let g:ctrlp_custom_ignore = ‘\v[\/].(git|hg|svn)$’<br>let g:ctrlp_custom_ignore = {<br>  \ ‘dir’:  ‘\v[\/].(git|hg|svn)$’,<br>  \ ‘file’: ‘\v.(exe|so|dll)$’,<br>  \ ‘link’: ‘some_bad_symbolic_links’,<br>  \ }</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 排除 `.gitignore` 中的文件和目录</span><br></pre></td></tr></table></figure>
<p>let g:ctrlp_user_command = [‘.git’, ‘cd %s &amp;&amp; git ls-files -co –exclude-standard’]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 自定义的搜索规则</span><br></pre></td></tr></table></figure>
<p>let g:ctrlp_user_command = ‘find %s -type f’        “ MacOSX/Linux<br>let g:ctrlp_user_command = ‘dir %s /-n /b /s /a-d’  “ Windows</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## fugitive</span><br><span class="line"></span><br><span class="line">### 对象 fugitive-objects</span><br><span class="line"></span><br><span class="line">- `:` 同 `:Gstatus`</span><br><span class="line">- `.git/config` 仓库的配置文件</span><br><span class="line">- `HEAD` .git/HEAD</span><br><span class="line">- `refs/heads/x` .git/refs/heads/x</span><br><span class="line">- 当前文件</span><br><span class="line">  - `:%` 当前文件在暂存区中的对应文件</span><br><span class="line">  - `@~2:%` 当前文件在 HEAD 的祖父提交中的对应文件</span><br><span class="line">  - `:1:%` 冲突状态中，当前文件在共同祖先中的对应文件</span><br><span class="line">  - `:2:#` 冲突状态中，当前文件在目标分支中的对应文件</span><br><span class="line">- 指定文件名的文件</span><br><span class="line">  - `./master` 工作目录下名为 master 的文件</span><br><span class="line">  - `Makefile` 工作区中名为 Makefile 的文件</span><br><span class="line">  - `@^:Makefile` HEAD 的父提交中名为 Makefile 的文件</span><br><span class="line">  - `:Makefile` 暂存区中的 Makefile 文件</span><br><span class="line">  - `!:Makefile` 包含当前文件的提交中的名为 Makefile 的文件</span><br><span class="line">- 提交</span><br><span class="line">  - `@` HEAD 指向的提交</span><br><span class="line">  - `master^` master 的父提交</span><br><span class="line">  - `master:` master 指向的 tree 对象</span><br><span class="line">  - `!` 包含当前文件的提交</span><br><span class="line">- 指定缓冲区中的文件</span><br><span class="line">  - `:3:#5` 冲突状态中，缓冲区 #5 中文件在被合并分支中对应的文件</span><br><span class="line">  - `!3^2` 包含缓冲区 #3 中文件的提交的第二父提交</span><br><span class="line"></span><br><span class="line">### 命令</span><br><span class="line"></span><br><span class="line">**通用**</span><br><span class="line"></span><br><span class="line">- `Git &#123;args&#125;` 执行 Git 命令，相当于 `:!git &#123;args&#125;`。</span><br><span class="line">- `Git! &#123;args&#125;` 执行 Git 命令，将结果输出到临时文件。</span><br><span class="line">- `Gcd|Glcd [&#123;dir&#125;]` cd/lcd 到项目根目录。</span><br><span class="line"></span><br><span class="line">**本地仓库**</span><br><span class="line"></span><br><span class="line">- `G[status]` 在新窗口中查看 git status。</span><br><span class="line">  - `g?` 查看 fugitive-mappings。</span><br><span class="line">  - `-` add/reset 某个文件的修改。</span><br><span class="line">  - `=` 展开各个差异块。</span><br><span class="line">- `Gdiff` 查看当前文件工作区到暂存区的差异。</span><br><span class="line">  - `Gsdiff` 横向分割窗口</span><br><span class="line">  - `Gvdiff` 纵向分割窗口</span><br><span class="line">- `Gcommit &#123;args&#125;` 提交当前文件，在新窗口中编辑提交信息。</span><br><span class="line">- `Gmerge &#123;args&#125;` 合并分支，在 quickfix 窗口中列出冲突文件。</span><br><span class="line">- `Grebase`</span><br><span class="line">- `Gmove` git mv 同时会重命名缓冲区。</span><br><span class="line">- `Gdelete` git rm 同时会删除缓冲区。</span><br><span class="line">- `Gread` git checkout -- filename</span><br><span class="line">- `Gwrite` 将缓冲区写到工作区和暂存区。</span><br><span class="line">- `Ge` `Gsp` `Gvsp` `Gtabe` 查看指定的对象、树、提交或标签。</span><br><span class="line"></span><br><span class="line">**远程仓库**</span><br><span class="line"></span><br><span class="line">- `Gfetch &#123;args&#125;` `Gpull &#123;args&#125;` `Gpush &#123;args&#125;`</span><br><span class="line"></span><br><span class="line">**历史日志**</span><br><span class="line"></span><br><span class="line">- `Gblame [flags]` flags 会被传递给 git-blame。</span><br><span class="line">  在 blame 窗口可以使用以下热键：</span><br><span class="line">  - `g?` 帮助</span><br><span class="line">  - `A` 重置尺寸至作者列</span><br><span class="line">  - `C` 重置尺寸至提交列</span><br><span class="line">  - `D` 重置尺寸至日期列</span><br><span class="line">  - `q` 退出 blame</span><br><span class="line">  - `gq` 退出 blame 并 `:Gedit` 工作区中的版本（不懂跟 `q` 有什么区别）</span><br><span class="line">  - `&lt;CR&gt;` 打开光标下的提交</span><br><span class="line">  - `o` 在水平分割窗口打开提交</span><br><span class="line">  - `O` 在新标签页打开提交</span><br><span class="line">  - `p` 在预览窗口打开提交</span><br><span class="line">  - `-` 在光标下的提交上再做 blame</span><br><span class="line">  - `~` 在第 [count] 个第一父提交上再做 blame</span><br><span class="line">  - `P` 在第 [count] 父提交上再做 blame（相当于 HEAD^[count]）</span><br><span class="line">- `0Glog` 通过 quickfix 窗口遍历当前文件历史。</span><br><span class="line">- `Glog &#123;args&#125;` 通过 quickfix 窗口浏览提交历史。</span><br><span class="line">  - `--` 查看所有提交，否则查看涉及当前文件的提交。</span><br><span class="line">- `Gllog &#123;args&#125;` 类似 `Glog`，不过是用 location list。</span><br><span class="line"></span><br><span class="line">### 热键</span><br><span class="line"></span><br><span class="line">这些热键大多数都能在 `:Gstatus` 窗口和 fugitive 对象窗口使用。</span><br><span class="line"></span><br><span class="line">**暂存和撤销**</span><br><span class="line"></span><br><span class="line">- `s` stage 光标下的文件或块。</span><br><span class="line">- `u` unstange 光标下的文件或块。</span><br><span class="line">- `-` stage/unstage 光标下的文件或块。</span><br><span class="line">- `&lt;C-N&gt;` 跳到下个文件或块。</span><br><span class="line">- `&lt;C-P&gt;` 跳到上个文件或块。</span><br><span class="line">- `X` 放弃光标下的改动，即 checkout 或 clean。</span><br><span class="line">- `=` 在光标处切换内联差异比较。</span><br><span class="line">- `&lt;` 在光标处插入内联差异比较。</span><br><span class="line">- `&gt;` 在光标处移除内联差异比较。</span><br><span class="line">- `i` 对于未跟踪文件，执行 `git add --intent-to-add`。否则移至下个块并展开内联差异比较</span><br><span class="line">- `dd` 对光标下的文件执行 `:Gdiff`。</span><br><span class="line">- `ds` 对光标下的文件执行 `:Gsdiff`。</span><br><span class="line">- `dv` 对光标下的文件执行 `:Gvdiff`。</span><br><span class="line">- `P` 对光标下的文件执行 `:Git add --patch` 或 `:Git reset --patch`。</span><br><span class="line"></span><br><span class="line">**导航**</span><br><span class="line"></span><br><span class="line">- `&lt;CR&gt;` 打开光标下的文件或对象。</span><br><span class="line">- `o` `gO` 在新窗口中打开光标下的文件或对象。</span><br><span class="line">- `O` 在新标签页中打开光标下的文件或对象。</span><br><span class="line">- `~` 相当于 Git 的 `~`。</span><br><span class="line">- `P` 相当于 Git 的 `^`。</span><br><span class="line">- `C` 打开包含当前文件的提交。</span><br><span class="line">- `&lt;C-W&gt;C` 在新窗口中打开包含当前文件的提交。</span><br><span class="line"></span><br><span class="line">**提交**</span><br><span class="line"></span><br><span class="line">- `cc` 创建提交。</span><br><span class="line">- `ca` commit --amend 并编辑提交信息。</span><br><span class="line">- `ce` commit --amend 且不编辑提交信息。</span><br><span class="line">- `cw` 编辑最近一次提交。</span><br><span class="line">- `cvc` 带 `-v` 提交。</span><br><span class="line">- `cva` 带 `-v` amend。</span><br><span class="line">- `cf` 为光标下的提交创建一个 fixup 提交。</span><br><span class="line">- `cs` 为光标下的提交创建一个 squash 提交。</span><br><span class="line">- `cA` 为光标下的提交创建一个 squash 提交并编辑信息。</span><br><span class="line"></span><br><span class="line">**Rebase**</span><br><span class="line"></span><br><span class="line">- `ri` 执行交互式 rebase，以光标下提交的父提交作为基准。</span><br><span class="line">- `rf` 执行自动压缩 rebase，以光标下提交的父提交作为基准。</span><br><span class="line">- `ru` 以 upstream 分支为基准执行交互式 rebase。</span><br><span class="line">- `rp` 以 push 分支为基准执行交互式 rebase。</span><br><span class="line"></span><br><span class="line">### 其他</span><br><span class="line"></span><br><span class="line">`set statusline=%&#123;FugitiveStatusline()&#125;` 在状态栏添加分支信息</span><br><span class="line"></span><br><span class="line">## gitgutter</span><br><span class="line"></span><br><span class="line">更新频率取决于 vim 的 `updatetime` 选项，默认 4000 ms。</span><br><span class="line"></span><br><span class="line">同一文件改动超过 500 处时，会隐藏标记。可设置 `let g:gitgutter_max_signs = 500`</span><br><span class="line"></span><br><span class="line">### 快捷键</span><br><span class="line"></span><br><span class="line">- `[c` `]c` 在改动块间跳转。</span><br><span class="line">- `&lt;leader&gt;hp` 预览改动块。</span><br><span class="line">- `&lt;leader&gt;hs` 暂存改动块。</span><br><span class="line">- `&lt;leader&gt;hu` 回退改动块。（不是 unstage）</span><br><span class="line">- 整体开关</span><br><span class="line">  - `:GitGutterDisable`</span><br><span class="line">  - `:GitGutterEnable`</span><br><span class="line">  - `:GitGutterToggle`</span><br><span class="line">- 缓冲区独立开关</span><br><span class="line">  - `:GitGutterBufferDisable`</span><br><span class="line">  - `:GitGutterBufferEnable`</span><br><span class="line">  - `:GitGutterBufferToggle`</span><br><span class="line">- 标记开关</span><br><span class="line">  - `:GitGutterSignsDisable`</span><br><span class="line">  - `:GitGutterSignsEnable`</span><br><span class="line">  - `:GitGutterSignsToggle`</span><br><span class="line">- 行高亮</span><br><span class="line">  - `:GitGutterLineHighlightsDisable`</span><br><span class="line">  - `:GitGutterLineHighlightsEnable`</span><br><span class="line">  - `:GitGutterLineHighlightsToggle`</span><br><span class="line"></span><br><span class="line">### 文本对象</span><br><span class="line"></span><br><span class="line">- `ic` 改动块中的所有行。</span><br><span class="line">- `ac` 改动块中的所有行以及后面紧跟的所有空行。</span><br><span class="line"></span><br><span class="line">### 折叠</span><br><span class="line"></span><br><span class="line">- `:GitGutterFold` 折叠/展开所有未改动的行。</span><br><span class="line">- `zr` 展开改动块前后 3 行。</span><br><span class="line"></span><br><span class="line"># 折叠</span><br><span class="line"></span><br><span class="line">## 折叠相关的 Vim 变量</span><br><span class="line"></span><br><span class="line">|变量          |含义                                    |</span><br><span class="line">|:-------------|:---------------------------------------|</span><br><span class="line">|`v:foldstart` |折叠首行的行号                          |</span><br><span class="line">|`v:foldend`   |折叠末行的行号                          |</span><br><span class="line">|`v:folddashes`|一个含有连字符的字符串，用来表示折叠级别|</span><br><span class="line">|`v:foldlevel` |折叠级别                                |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 折叠选项</span><br><span class="line"></span><br><span class="line">- **颜色 COLORS**</span><br><span class="line">关闭的折叠的颜色由 Folded 高亮组（*hl-Folded*）设定。折叠栏的颜色由 FoldColumn 组（*hl-FoldColumn*）设定。</span><br><span class="line">`:highlight Folded guibg=grey guifg=blue`</span><br><span class="line">`:highlight FoldColumn guibg=darkgrey guifg=white`</span><br><span class="line">- **折叠级别 FOLDLEVEL**</span><br><span class="line">包含行数小于等于 `foldlevel` 的折叠始终以展开的形式来显示。</span><br><span class="line">`foldlevel` 被改变后立即生效。</span><br><span class="line">- **折叠文本 FOLDTEXT**</span><br><span class="line">`foldtext` 是一个字符串表达式，定义了关闭折叠时所显示的文字。如：</span><br><span class="line">` :set foldtext=v:folddashes.substitute(getline(v:foldstart),&apos;/\\*\\\|\\*/\\\|&#123;&#123;&#123;\\d\\=&apos;,&apos;&apos;,&apos;g&apos;)`</span><br><span class="line">在折叠时显示被折叠文本的首行的内容，并删除了其中的&quot;/*&quot;、&quot;*/&quot;、&quot;&#123;&#123;&#123;&quot;。</span><br><span class="line">以上功能也可通过一段函数来实现：</span><br></pre></td></tr></table></figure>
<p>  set foldtext=MyFoldText()<br>  function MyFoldText()</p>
<pre><code>let line = getline(v:foldstart)
let sub = substitute(line, &apos;/\*\|\*/\|{{{\d\=', '', 'g')
      return v:folddashes . sub
    endfunction
    ```
- **折叠栏 FOLDCOLUMN**
折叠栏显示在窗口左侧，展示了所有折叠的结构。可以通过点击折叠栏中的“+”号来展开该折叠，通过点击任何其他非空字符来关闭该行所在折叠。
通过设定 `foldcolumn` 的值（0~12）来改变折叠栏的宽度。
- **其他选项**
`foldenable` `fen`：复位时打开所有折叠。
`foldexpr` `fde`：用于 `expr` 折叠模式的表达式。
`foldignore` `fdi`：用于 `indent` 折叠模式的字符。
`foldmarker` `fmr`：用于 `marker` 折叠模式的标志。
`foldmethod` `fdm`：当前折叠模式。
`foldminlines` `fml`：关闭折叠时的最小显示行数。
`foldnestmax` `fdn`：用于 `indent` 和 `syntax` 折叠模式的最大嵌套层数。
`foldopen` `fdo`：哪些命令可以打开已关闭的折叠。
`foldclose` `fcl`：非光标所在折叠是否关闭。缺省为""。若设置为“all”则所有高于 `foldlevel` 且非光标所在折叠都会自动关闭。

## 折叠方式

`set foldmethod = {method}` or `set fdm = {method}`

其中 {method} 有6个选项，各方式之间不兼容：

|命令  |含义                    |
|:-----|:-----------------------|
|manual|手工定义折叠            |
|indent|同等的缩进表示同级的折叠|
|expr  |用表达式来定义折叠      |
|syntax|用语法高亮来定义折叠    |
|diff  |对没有更改的文本进行折叠|
|marker|用特定标志标识折叠      |

当从 `manual` 模式切换到其他模式时，所有已存在的折叠会被删除并创建新折叠。而反过来则不会删除已存在的折叠。所以通常先选择 `manual` 之外的某种模式，得到自动生成的折叠，然后切换到 `manual` 模式。

- **manual**
  使用命令来创建折叠。折叠级别由嵌套层级决定。可以通过对某些行反复定义折叠来增加折叠级别。
  当退出编辑时，手工折叠会丢失。使用 `:mkview` 来保存折叠，使用 `:loadview` 来载入折叠。
- **indent**
  折叠级别由缩进除以 `shiftwidth` 并向下取整得到。嵌套的层数受 `foldnestmax` 限制。
  某些行会被忽略并得到相邻行的折叠级别（取较小值），这类行包括空行和以 `foldignore` 中某个字符开始的行。
- **expr**
  折叠级别通过对每行计算 `foldexpr` 的值来定义。该模式比较复杂，不常用。详见 `:h fold-expr`。
- **syntax**
  折叠由带有“fold”参数的语法项来定义（`:h syn-fold`）。折叠级别由折叠的嵌套层数决定。嵌套的折叠数量受 `foldnestmax` 限制。详见 `:h fold-syntax`。
- **diff**
  对未改动的文本或靠近改动的文本自动定义折叠。仅对当前窗口已设定 `diff` 选项来显示不同之处时有效，不然，整个缓冲区就是一个大折叠。详见 `:h fold-diff`。
- **marker**
  折叠根据 `foldmarker` 的值来定义，缺省值为“{{{,}}}”，建议不要修改。
</code></pre><p>折叠行所显示的文本取决于 <code>foldtext</code> 选项，缺省为 foldtext() 的返回值，即折叠标志之前的文本。<br>“3x{” 标志一个折叠的开始。可以用 “3x}” 标志一个折叠的结束（也可以不用，假如所有折叠都处于一个大嵌套中的话）。“3x{” 和 “3x}” 后都可以紧跟一个数字（0除外），表示该折叠的级别，数字越大，折叠所在的嵌套越深。<br>带数字的标志和不带数字的标志可以混合使用。</p>
</li>
</ul>
<h2 id="创建和删除折叠"><a href="#创建和删除折叠" class="headerlink" title="创建和删除折叠"></a>创建和删除折叠</h2><ul>
<li><code>zf{motion}</code> <code>{visual}zf</code> <code>{count}zF</code> <code>:{range}fo[ld]</code><br>创建折叠，只在 <code>manual</code> 和 <code>marker</code> 模式下有效</li>
<li><code>zd</code> <code>{visual}zd</code><br>删除光标所在行的折叠，该折叠内的折叠将自动上移一级，或删除选中区域的所有折叠，且不可撤销。只在 <code>manual</code> 和 <code>marker</code> 模式下有效</li>
<li><code>zD</code> <code>{visual}zD</code><br>删除光标所在行及其内的所有折叠，或删除选中区域及其内的所有折叠，只在 <code>manual</code> 和 <code>marker</code> 模式下有效</li>
<li><code>zE</code><br>删除（eliminate）当前窗口内的所有折叠，只在 <code>manual</code> 和 <code>marker</code> 模式下有效</li>
</ul>
<h2 id="展开和关闭折叠"><a href="#展开和关闭折叠" class="headerlink" title="展开和关闭折叠"></a>展开和关闭折叠</h2><p>包含行数小于 <code>foldminlines</code> / <code>fdm</code> 的折叠将始终以展开的形式显示。<code>foldminlines</code>缺省为 1。</p>
<ul>
<li><code>[count]zo</code>：打开光标下的折叠。当给定计数时，打开相应深度的折叠。在可视模式下，所选区域所有折叠都打开一级。</li>
<li><code>zO</code>：打开光标所在行及其内的所有折叠。在可视模式下，打开所选区域内的所有折叠。</li>
<li><code>[count]zc</code>：关闭光标下的折叠。当给定计数时，关闭从光标所在折叠开始的相应级数的折叠。在可视模式下，所选区域内的折叠被关闭一级。</li>
<li><code>zC</code>：关闭光标所在行及其内的所有折叠。在可视模式下，关闭所选区域内的所有折叠。</li>
<li><code>[count]za</code>：打开/关闭光标所在折叠。当给定计数时，打开/关闭相应数量的折叠。</li>
<li><code>zA</code>：打开/关闭光标所在折叠及其内的所有折叠。</li>
<li><code>zv</code>：查看（view）折叠，打开光标所在折叠及其上级的所有折叠。</li>
<li><code>zx</code>：更新折叠。撤销被手动打开和关闭的折叠：再次应用 <code>foldlevel</code>。然后使用 <code>zv</code>。同时强制重新计算折叠。使用 <code>foldexpr</code> 并且缓冲区发生改变但折叠不能正确地更新时，这会有用。</li>
<li><code>zX</code>：类似 <code>zx</code>。</li>
<li><code>zm</code>：折叠更多（more）：<code>foldlevel</code> 减1。</li>
<li><code>zM</code>：关闭所有折叠，将 <code>foldlevel</code> 设为0。</li>
<li><code>zr</code>：折叠减少（reduce）：<code>foldlevel</code> 加1。</li>
<li><code>zR</code>：打开所有折叠，将 <code>foldlevel</code> 设为最高级别。</li>
<li><code>:{range}foldo[pen][!]</code>：在 {range} 内打开一级折叠，若加上 <code>!</code> 则打开 {range} 内的所有折叠。</li>
<li><code>:{range}foldc[lose][!]</code>：在 {range} 内关闭一级折叠，若加上 <code>!</code> 则关闭 {range} 内的所有折叠。</li>
<li><code>zn</code>：不折叠（none）：重置 <code>foldenable</code>。所有折叠被打开。</li>
<li><code>zN</code>：正常折叠（normal）：设定 <code>foldenable</code>。所有折叠都表现为之前的样子。</li>
<li><code>zi</code>：反转 <code>foldenable</code> 的值。</li>
</ul>
<h2 id="在折叠间移动"><a href="#在折叠间移动" class="headerlink" title="在折叠间移动"></a>在折叠间移动</h2><p><code>[count][z</code>：移动到当前打开折叠的开始。若已经在当前打开折叠的开始，则移动到上级折叠的开始。当给定计数时，重复[count]次<code>[z</code>命令。<br><code>[count]]z</code>：移动到当前打开折叠的末尾。若已经在当前打开折叠的末尾，则移动到上级折叠的末尾。当给定计数时，重复[count]次<code>]z</code>命令。<br><code>[count]zj</code>：移动到下一个折叠的开始，包括关闭的折叠。当给定计数时，重复[count]次<code>zj</code>命令。此命令可接在一个操作符（operator）后面。<br><code>[count]zk</code>：移动到上一个折叠的末尾，包括关闭的折叠。当给定计数时，重复[count]次<code>zk</code>命令。此命令可接在一个操作符（operator）后面。</p>
<h2 id="对折叠执行命令"><a href="#对折叠执行命令" class="headerlink" title="对折叠执行命令"></a>对折叠执行命令</h2><p><code>:[range]foldd[oopen] {cmd}</code>：对所有 [range] 范围内的、处于关闭折叠之外的行执行 {cmd}。执行过程类似 <code>:global</code> 命令：先标记所有需执行命令的行，然后执行命令。所以即使 {cmd} 会对折叠产生影响也不会改变 {cmd} 的执行范围。<br><code>:[range]folddoc[losed] {cmd}</code>：对所有 [range] 范围内的、处于关闭折叠之内的行执行 {cmd}。类似上一个命令。</p>
<h2 id="折叠行为"><a href="#折叠行为" class="headerlink" title="折叠行为"></a>折叠行为</h2><p>详见<code>:h fold-behavior</code>。</p>
<h1 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h1><ul>
<li>encoding（enc）：encoding 是 Vim 的内部使用编码，encoding 的设置会影响 Vim 内部的 Buffer、消息文字等。若载入的文件与 encoding 不同，则 Vim 会先转换成 encoding，然后在写入时再转回去。在 Unix 环境下，encoding 的默认设置等于 locale；Windows 环境下会和当前代码页相同。在中文 Windows 环境下 encoding 的默认设置是 cp936（GBK）。</li>
<li>fileencodings（fencs）：Vim 在打开文件时会根据 fileencodings 选项来识别文件编码，fileencodings 可以同时设置多个编码，Vim 会根据设置的顺序来猜测所打开文件的编码。</li>
<li>fileencoding（fenc）：Vim 在保存新建文件时会根据 fileencoding 的设置编码来保存。如果是打开已有文件，Vim 会根据打开文件时所识别的编码来保存，除非在保存时重新设置 fileencoding。</li>
<li>termencodings（tenc）：在终端环境下使用 Vim 时，通过 termencoding 项来告诉 Vim 终端所使用的编码。</li>
</ul>
<p>保存文件时使用 <code>:set fileencoding=utf-8</code> 来使用指定的编码进行保存。</p>
<h1 id="自动配置选项"><a href="#自动配置选项" class="headerlink" title="自动配置选项"></a>自动配置选项</h1><p><em>:h auto-setting</em></p>
<h2 id="modeline"><a href="#modeline" class="headerlink" title="modeline"></a>modeline</h2><p>有两种形式的 modeline：</p>
<ul>
<li><code>[text]{white}{vi:|vim:|ex:}[white]{options}</code><ul>
<li><code>text</code>：任意文本。</li>
<li><code>white</code>：空格或 tab。</li>
<li><code>options</code>：若干选项，用空格或“:”分隔，每个选项都被作为 <code>:set</code> 的命令。</li>
</ul>
</li>
<li><code>[text]{white}{vi:|vim:|Vim:|ex:}[white]se[t] {options}:[text]</code><ul>
<li><code>se[t]</code>：当使用“Vim”时必须用 <code>set</code>。</li>
</ul>
</li>
</ul>
<p><code>ex:</code> 和 <code>Vim:</code> 前的空格是必需的，<code>vi:</code> 和 <code>vim:</code> 前的空格可选（为了兼容 3.0 版本）。</p>
<h1 id="自定义命令"><a href="#自定义命令" class="headerlink" title="自定义命令"></a>自定义命令</h1><p>用户自定义命令必须首字母大写，来避免与内建命令冲突，除了 <code>:Next</code>、<code>:X</code>，它们不能用于自定义命令。<code>:Print</code> 也是内建命令，但因为已废弃所以可以覆盖。</p>
<p>调用命令时可以用缩写，若根据缩写找到的命令不唯一则会报错。内建命令总是优先。</p>
<ul>
<li><code>:[verbose] com[mand] [{cmd}]</code> 列出所有用户定义的命令。展示结果前两列的符号：<ul>
<li><code>!</code> 该命令带有 <code>-bang</code> 属性。</li>
<li><code>&quot;</code> 该命令带有 <code>-register</code> 属性。</li>
<li><code>b</code> 该命令仅在当前缓冲区有效。</li>
<li><code>verbose</code> 额外显示命令的定义处。</li>
<li><code>{cmd}</code> 仅展示以 <code>{cmd}</code> 开头的命令。</li>
<li><code>:filter {subStr} command</code> 仅展示包含 <code>{subStr}</code> 的命令。</li>
</ul>
</li>
<li><code>:com[mand][!] [{attr}...] {cmd} {rep}</code> 定义一个命令。名称为 <code>{cmd}</code>，命令内容为 <code>{rep}</code>（其中可能包含代替换的文本），属性为 <code>{attr}</code>。若命令已存在会报错。使用 <code>!</code> 强制覆盖已有命令。<br>-</li>
<li><code>:delc[ommand] {cmd}</code> 删除命令。</li>
<li><code>comc[lear]</code> 删除所有用户定义命令。</li>
</ul>
<h2 id="替换文本"><a href="#替换文本" class="headerlink" title="替换文本"></a>替换文本</h2><p>命令执行前会自动替换命令内容中的 <code>&lt;...&gt;</code> 占位符。若要避免被替换，需用 <code>&lt;lt&gt;</code> 代替 <code>&lt;</code>。</p>
<ul>
<li><code>&lt;line1&gt;</code> 命令处理范围的开始行。</li>
<li><code>&lt;line2&gt;</code> 命令处理范围的结束行。</li>
<li><code>&lt;range&gt;</code> 命令范围这个参数本身的参数个数：0，1，2。</li>
<li><code>&lt;count&gt;</code> 传入的计数值。</li>
<li><code>&lt;bang&gt;</code> 若命令执行时带有 <code>!</code> 则会展开为 <code>!</code>，否则不展开。</li>
<li><code>&lt;mods&gt;</code> 命令修饰符，若执行时没带则不展开。<code>:aboveleft</code>, <code>:belowright</code>, <code>:botright</code>, <code>:browse</code>, <code>:confirm</code>, <code>:hide</code>, <code>:keepalt</code>, <code>:keepjumps</code>, <code>:keepmarks</code>, <code>:keeppatterns</code>, <code>:leftabove</code>, <code>:lockmarks</code>, <code>:noswapfile</code>, <code>:rightbelow</code>, <code>:silent</code>, <code>:tab</code>, <code>:topleft</code>, <code>:verbose</code>, <code>:vertical</code></li>
<li><code>&lt;reg&gt;</code> <code>&lt;register&gt;</code> 寄存器，若执行时没带则不展开。</li>
<li><code>&lt;args&gt;</code> 命令参数，但不包含计数和寄存器参数。</li>
<li><code>&lt;lt&gt;</code> 代表 <code>&lt;</code>，用来保留 <code>&lt;...&gt;</code> 类文本避免被替换。</li>
<li><code>&lt;q-{abc}&gt;</code> 若某个转义序列以“q-”开始，则它整体会被引号包裹起来，作为一个字符串。</li>
<li><code>&lt;f-args&gt;</code> 将命令入参根据空格分割成列表然后作为函数入参。<code>:h &lt;f-args&gt;</code></li>
</ul>
<h2 id="命令属性"><a href="#命令属性" class="headerlink" title="命令属性"></a>命令属性</h2><h3 id="参数处理"><a href="#参数处理" class="headerlink" title="参数处理"></a>参数处理</h3><ul>
<li>不显式声明参数。认为是不带参数，若调用时带参数会报错。</li>
<li><code>-nargs=0</code> 不带参数，同上。</li>
<li><code>-nargs=1</code> 有且仅有一个参数，包括空格。</li>
<li><code>-nargs=*</code> &gt;= 0 个参数，空格分隔。</li>
<li><code>-nargs=?</code> 0 或 1 个参数。</li>
<li><code>-nargs=+</code> &gt;= 1 个参数。</li>
</ul>
<p>若仅有一个参数，则空格会作为参数的一部分；若有多个参数，空格和 tab 会作为参数间的分隔符。</p>
<p>参数会作为文本传入命令然后解析，而不是作为表达式先解析再传入命令。也就是说若将变量作为实参，那么会在命令定义的作用域内查找该变量，而不是在命令的调用处的作用域内。</p>
<h3 id="补全行为"><a href="#补全行为" class="headerlink" title="补全行为"></a>补全行为</h3><p>命令的参数默认不会被补全，除非声明下列一个或多个参数。</p>
<ul>
<li><code>-complete=arglist</code> 参数列表中的文件名</li>
<li><code>-complete=augroup</code> 自动命名组</li>
<li><code>-complete=buffer</code> 缓冲区名称</li>
<li><code>-complete=behave</code> :behave 子选项</li>
<li><code>-complete=color</code> 颜色方案</li>
<li><code>-complete=command</code> Ex 命令及其参数</li>
<li><code>-complete=compiler</code> 编译器</li>
<li><code>-complete=cscope</code> :cscope 子选项</li>
<li><code>-complete=dir</code> 目录名</li>
<li><code>-complete=environment</code> 环境变量名</li>
<li><code>-complete=event</code> 自动命令事件</li>
<li><code>-complete=expression</code> Vim 表达式</li>
<li><code>-complete=file</code> 文件名和目录名</li>
<li><code>-complete=file_in_path</code> “path”中的文件名和目录名</li>
<li><code>-complete=filetype</code> 文件类型名</li>
<li><code>-complete=function</code> 函数名</li>
<li><code>-complete=help</code> 帮助主题</li>
<li><code>-complete=highlight</code> 高亮组</li>
<li><code>-complete=history</code> :history 子选项</li>
<li><code>-complete=locale</code> locale 名 (和 <code>locale -a</code> 给出的相同)</li>
<li><code>-complete=mapclear</code> 缓冲区参数</li>
<li><code>-complete=mapping</code> 映射名</li>
<li><code>-complete=menu</code> 菜单</li>
<li><code>-complete=messages</code> :messages 子选项</li>
<li><code>-complete=option</code> 选项</li>
<li><code>-complete=packadd</code> 可选包名</li>
<li><code>-complete=shellcmd</code> Shell 命令</li>
<li><code>-complete=sign</code> :sign 子选项</li>
<li><code>-complete=syntax</code> 语法文件名</li>
<li><code>-complete=syntime</code> :syntime 子选项</li>
<li><code>-complete=tag</code> 标签</li>
<li><code>-complete=tag_listfiles</code> 标签，但敲入 <code>&lt;C-d&gt;</code> 时显示文件名</li>
<li><code>-complete=user</code> 用户名</li>
<li><code>-complete=var</code> 用户变量</li>
<li><code>-complete=custom,{func}</code> 用户自定义补全，通过 <code>{func}</code> 定义。</li>
<li><code>-complete=customlist,{func}</code> 用户自定义补全，通过 <code>{func}</code> 定义。</li>
</ul>
<h3 id="范围处理"><a href="#范围处理" class="headerlink" title="范围处理"></a>范围处理</h3><ul>
<li><code>-range</code> 允许范围，默认当前行</li>
<li><code>-range=%</code> 允许范围，默认全文</li>
<li><code>-range={n}</code> 计数（默认 n），用法类似 <code>:3{cmd}</code></li>
<li><code>-count=[{n}]</code> 计数（默认 n，若不声明则默认 0），用法类似 <code>:3{cmd}</code> 或 <code>:{cmd} 3</code></li>
<li><code>-addr=lines</code> 将范围应用于行（默认）</li>
<li><code>-addr=arguments</code> 将范围应用于参数</li>
<li><code>-addr=buffers</code> 将范围应用于缓冲区，包括未加载的</li>
<li><code>-addr=loaded_buffers</code> 将范围应用于已加载的缓冲区</li>
<li><code>-addr=windows</code>    将范围应用于窗口</li>
<li><code>-addr=tabs</code> 将范围应用于标签页</li>
</ul>
<h3 id="特殊情况"><a href="#特殊情况" class="headerlink" title="特殊情况"></a>特殊情况</h3><ul>
<li><code>-bang</code> 命令接受强制执行 <code>!</code></li>
<li><code>-bar</code> 命令接受管道符 <code>|</code> 和后续命令。此时命令参数中不允许出现 <code>|</code>。同时会检查 <code>&quot;</code> 作为注释的开始。</li>
<li><code>-register</code> 命令的第一个参数可以是一个可选的寄存器名（类似 <code>:del</code>）</li>
<li><code>-buffer</code> 命令仅在当前缓冲区可用</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/工具/" rel="tag"># 工具</a>
          
            <a href="/tags/vim/" rel="tag"># vim</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/01/01/Javascript/JavaScript/" rel="next" title="JavaScript">
                <i class="fa fa-chevron-left"></i> JavaScript
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/01/01/网络/计算机网络/" rel="prev" title="计算机网络">
                计算机网络 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">zeerho</p>
              <p class="site-description motion-element" itemprop="description">Just a repo for documents</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">63</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ZephyrHuang" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:zephyrhuang21@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#基本命令"><span class="nav-number">1.</span> <span class="nav-text">基本命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#撤销"><span class="nav-number">1.1.</span> <span class="nav-text">撤销</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更改"><span class="nav-number">1.2.</span> <span class="nav-text">更改</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#插入模式下的删除操作符"><span class="nav-number">1.3.</span> <span class="nav-text">插入模式下的删除操作符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件状态"><span class="nav-number">1.4.</span> <span class="nav-text">文件状态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#搜索"><span class="nav-number">1.5.</span> <span class="nav-text">搜索</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#正则表达"><span class="nav-number">1.5.1.</span> <span class="nav-text">正则表达</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配对括号的查找"><span class="nav-number">1.5.2.</span> <span class="nav-text">配对括号的查找</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在-VIM-内执行外部命令"><span class="nav-number">1.6.</span> <span class="nav-text">在 VIM 内执行外部命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#具有选择性的保存命令"><span class="nav-number">1.7.</span> <span class="nav-text">具有选择性的保存命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#提取和合并文件"><span class="nav-number">1.8.</span> <span class="nav-text">提取和合并文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#设置类选项"><span class="nav-number">1.9.</span> <span class="nav-text">设置类选项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#获取帮助信息"><span class="nav-number">1.10.</span> <span class="nav-text">获取帮助信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常用变量"><span class="nav-number">1.11.</span> <span class="nav-text">常用变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他"><span class="nav-number">1.12.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mswin-vim"><span class="nav-number">2.</span> <span class="nav-text">mswin.vim</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#可重复的操作及如何回退"><span class="nav-number">3.</span> <span class="nav-text">可重复的操作及如何回退</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#操作符-operator"><span class="nav-number">4.</span> <span class="nav-text">操作符 operator</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ex-命令"><span class="nav-number">5.</span> <span class="nav-text">Ex 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#补全功能"><span class="nav-number">5.1.</span> <span class="nav-text">补全功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用来构建-Ex-命令的地址和范围的符号"><span class="nav-number">5.2.</span> <span class="nav-text">用来构建 Ex 命令的地址和范围的符号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他-1"><span class="nav-number">5.3.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#插入特殊字符"><span class="nav-number">6.</span> <span class="nav-text">插入特殊字符</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#窗口"><span class="nav-number">7.</span> <span class="nav-text">窗口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#标签页"><span class="nav-number">8.</span> <span class="nav-text">标签页</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#quickfix"><span class="nav-number">9.</span> <span class="nav-text">quickfix</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#打开文件"><span class="nav-number">10.</span> <span class="nav-text">打开文件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#缓冲区列表"><span class="nav-number">11.</span> <span class="nav-text">缓冲区列表</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参数列表"><span class="nav-number">12.</span> <span class="nav-text">参数列表</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在文件中移动"><span class="nav-number">13.</span> <span class="nav-text">在文件中移动</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#滚屏"><span class="nav-number">13.1.</span> <span class="nav-text">滚屏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在实际行和屏幕行间移动"><span class="nav-number">13.2.</span> <span class="nav-text">在实际行和屏幕行间移动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#基于单词、字串、句子、段落移动"><span class="nav-number">13.3.</span> <span class="nav-text">基于单词、字串、句子、段落移动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#行内查找"><span class="nav-number">13.4.</span> <span class="nav-text">行内查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文本对象"><span class="nav-number">13.5.</span> <span class="nav-text">文本对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#标记"><span class="nav-number">13.6.</span> <span class="nav-text">标记</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#在文件间跳转"><span class="nav-number">14.</span> <span class="nav-text">在文件间跳转</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Vim-为每个窗口维护了一份独立的跳转列表"><span class="nav-number">14.1.</span> <span class="nav-text">Vim 为每个窗口维护了一份独立的跳转列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vim-为每个缓冲区维护了一份独立的改变列表"><span class="nav-number">14.2.</span> <span class="nav-text">Vim 为每个缓冲区维护了一份独立的改变列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vim-会自动创建一些位置标记"><span class="nav-number">14.3.</span> <span class="nav-text">Vim 会自动创建一些位置标记</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Vim-会把文档中的文件名当成一个超链接"><span class="nav-number">14.4.</span> <span class="nav-text">Vim 会把文档中的文件名当成一个超链接</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#寄存器"><span class="nav-number">15.</span> <span class="nav-text">寄存器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#宏"><span class="nav-number">16.</span> <span class="nav-text">宏</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#模式"><span class="nav-number">17.</span> <span class="nav-text">模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#模式-1"><span class="nav-number">17.1.</span> <span class="nav-text">模式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查找"><span class="nav-number">17.2.</span> <span class="nav-text">查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#替换"><span class="nav-number">17.3.</span> <span class="nav-text">替换</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#工具"><span class="nav-number">18.</span> <span class="nav-text">工具</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#vim-surroud"><span class="nav-number">18.1.</span> <span class="nav-text">vim-surroud</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建和删除折叠"><span class="nav-number">18.2.</span> <span class="nav-text">创建和删除折叠</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#展开和关闭折叠"><span class="nav-number">18.3.</span> <span class="nav-text">展开和关闭折叠</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在折叠间移动"><span class="nav-number">18.4.</span> <span class="nav-text">在折叠间移动</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对折叠执行命令"><span class="nav-number">18.5.</span> <span class="nav-text">对折叠执行命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#折叠行为"><span class="nav-number">18.6.</span> <span class="nav-text">折叠行为</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#编码"><span class="nav-number">19.</span> <span class="nav-text">编码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#自动配置选项"><span class="nav-number">20.</span> <span class="nav-text">自动配置选项</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#modeline"><span class="nav-number">20.1.</span> <span class="nav-text">modeline</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#自定义命令"><span class="nav-number">21.</span> <span class="nav-text">自定义命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#替换文本"><span class="nav-number">21.1.</span> <span class="nav-text">替换文本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#命令属性"><span class="nav-number">21.2.</span> <span class="nav-text">命令属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#参数处理"><span class="nav-number">21.2.1.</span> <span class="nav-text">参数处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#补全行为"><span class="nav-number">21.2.2.</span> <span class="nav-text">补全行为</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#范围处理"><span class="nav-number">21.2.3.</span> <span class="nav-text">范围处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#特殊情况"><span class="nav-number">21.2.4.</span> <span class="nav-text">特殊情况</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zeerho</span>

  

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Gemini</a> v6.0.0</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.0.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.0.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.0"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
